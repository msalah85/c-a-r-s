(function(n,t){"use strict";function f(f,e){var o=this;o.$el=n(f);o.el=f;o.id=r++;o.$window=n(t);o.$document=n(document);o.$el.bind("destroyed",n.proxy(o.teardown,o));o.$clonedHeader=null;o.$originalHeader=null;o.isSticky=!1;o.hasBeenSticky=!1;o.leftOffset=null;o.topOffset=null;o.init=function(){o.$el.each(function(){var t=n(this);t.css("padding",0);o.$originalHeader=n("thead:first",this);o.$clonedHeader=o.$originalHeader.clone();t.trigger("clonedHeader."+i,[o.$clonedHeader]);o.$clonedHeader.addClass("tableFloatingHeader");o.$clonedHeader.css("display","none");o.$originalHeader.addClass("tableFloatingHeaderOriginal");o.$originalHeader.after(o.$clonedHeader);o.$printStyle=n('<style type="text/css" media="print">.tableFloatingHeader{display:none !important;}.tableFloatingHeaderOriginal{position:static !important;}<\/style>');n("head").append(o.$printStyle)});o.setOptions(e);o.updateWidth();o.toggleHeaders();o.bind()};o.destroy=function(){o.$el.unbind("destroyed",o.teardown);o.teardown()};o.teardown=function(){o.isSticky&&o.$originalHeader.css("position","static");n.removeData(o.el,"plugin_"+i);o.unbind();o.$clonedHeader.remove();o.$originalHeader.removeClass("tableFloatingHeaderOriginal");o.$originalHeader.css("visibility","visible");o.$printStyle.remove();o.el=null;o.$el=null};o.bind=function(){o.$scrollableArea.on("scroll."+i,o.toggleHeaders);if(!o.isWindowScrolling){o.$window.on("scroll."+i+o.id,o.setPositionValues);o.$window.on("resize."+i+o.id,o.toggleHeaders)}o.$scrollableArea.on("resize."+i,o.toggleHeaders);o.$scrollableArea.on("resize."+i,o.updateWidth)};o.unbind=function(){o.$scrollableArea.off("."+i,o.toggleHeaders);o.isWindowScrolling||(o.$window.off("."+i+o.id,o.setPositionValues),o.$window.off("."+i+o.id,o.toggleHeaders));o.$scrollableArea.off("."+i,o.updateWidth)};o.toggleHeaders=function(){o.$el&&o.$el.each(function(){var u=n(this),r,t=o.isWindowScrolling?isNaN(o.options.fixedOffset)?o.options.fixedOffset.outerHeight():o.options.fixedOffset:o.$scrollableArea.offset().top+(isNaN(o.options.fixedOffset)?0:o.options.fixedOffset),i=u.offset(),f=o.$scrollableArea.scrollTop()+t,e=o.$scrollableArea.scrollLeft(),s=o.isWindowScrolling?f>i.top:t>i.top,h=(o.isWindowScrolling?f:0)<i.top+u.height()-o.$clonedHeader.height()-(o.isWindowScrolling?0:t);s&&h?(r=i.left-e+o.options.leftOffset,o.$originalHeader.css({position:"fixed","margin-top":o.options.marginTop,left:r,"z-index":3}),o.leftOffset=r,o.topOffset=t,o.$clonedHeader.css("display",""),o.isSticky||(o.isSticky=!0,o.updateWidth()),o.setPositionValues()):o.isSticky&&(o.$originalHeader.css("position","static"),o.$clonedHeader.css("display","none"),o.isSticky=!1,o.resetWidth(n("td,th",o.$clonedHeader),n("td,th",o.$originalHeader)))})};o.setPositionValues=function(){var n=o.$window.scrollTop(),t=o.$window.scrollLeft();!o.isSticky||n<0||n+o.$window.height()>o.$document.height()||t<0||t+o.$window.width()>o.$document.width()||o.$originalHeader.css({top:o.topOffset-(o.isWindowScrolling?0:n),left:o.leftOffset-(o.isWindowScrolling?0:t)})};o.updateWidth=function(){if(o.isSticky){o.$originalHeaderCells||(o.$originalHeaderCells=n("th,td",o.$originalHeader));o.$clonedHeaderCells||(o.$clonedHeaderCells=n("th,td",o.$clonedHeader));var t=o.getWidth(o.$clonedHeaderCells);o.setWidth(t,o.$clonedHeaderCells,o.$originalHeaderCells);o.$originalHeader.css("width",o.$clonedHeader.width())}};o.getWidth=function(i){var r=[];return i.each(function(i){var f,u=n(this),e;if(u.css("box-sizing")==="border-box")f=u[0].getBoundingClientRect().width;else if(e=n("th",o.$originalHeader),e.css("border-collapse")==="collapse")if(t.getComputedStyle)f=parseFloat(t.getComputedStyle(this,null).width);else{var s=parseFloat(u.css("padding-left")),h=parseFloat(u.css("padding-right")),c=parseFloat(u.css("border-width"));f=u.outerWidth()-s-h-c}else f=u.width();r[i]=f}),r};o.setWidth=function(n,t,i){t.each(function(t){var r=n[t];i.eq(t).css({"min-width":r,"max-width":r})})};o.resetWidth=function(t,i){t.each(function(t){var r=n(this);i.eq(t).css({"min-width":r.css("min-width"),"max-width":r.css("max-width")})})};o.setOptions=function(i){o.options=n.extend({},u,i);o.$scrollableArea=n(o.options.scrollableArea);o.isWindowScrolling=o.$scrollableArea[0]===t};o.updateOptions=function(n){o.setOptions(n);o.unbind();o.bind();o.updateWidth();o.toggleHeaders()};o.init()}var i="stickyTableHeaders",r=0,u={fixedOffset:0,leftOffset:0,marginTop:0,scrollableArea:t};n.fn[i]=function(t){return this.each(function(){var r=n.data(this,"plugin_"+i);r?typeof t=="string"?r[t].apply(r):r.updateOptions(t):t!=="destroy"&&n.data(this,"plugin_"+i,new f(this,t))})}})(jQuery,window);$(function(){$("table").stickyTableHeaders()});