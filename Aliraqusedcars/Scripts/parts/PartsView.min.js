var pageManager=function(){var n=null,t=null,i=null,u=$("#ClientID"),f=function(){$("#btnSearchAll").click(function(f){f.preventDefault();n=u.val();t=commonManger.dateFormat($("#From").val());i=commonManger.dateFormat($("#To").val());r()});r()},r=function(){var r=$("#listItems").DataTable({sDom:"<'row-fluid'<'span6'l><'span6 lft-pane'BT>r>t<'row-fluid'<'span6'i><'span6'p>>",buttons:[{extend:"csv",text:"تصدير إكسيل"},{extend:"copy",text:"نسـخ"},{text:"طباعة",action:function(){$(".dataTables_length,.form-horizontal").closest("div.row-fluid").addClass("hidden-print");window.print()}}],bProcessing:!0,bServerSide:!0,bRetrieve:!1,bDestroy:!0,sAjaxSource:"PartsView.aspx/LoadData",fnServerParams:function(r){r.push({name:"ClientID",value:n},{name:"From",value:t},{name:"To",value:i})},fnServerData:function(n,t,i){dataService.callAjax("GET",t,n,function(n){i(n.d)},commonManger.errorException)},iDisplayLength:50,aaSorting:[],aoColumns:[{mDataProp:"ID",bSortable:!0},{mDataProp:"AddDate",bSortable:!0,mData:function(n){return commonManger.formatJSONDate(n.AddDate)}},{mDataProp:"full_name",bSortable:!0},{mDataProp:"InvoiceNo",bSortable:!0},{mDataProp:"TotalAmount",bSortable:!1},{mDataProp:"Discount",bSortable:!1},{mDataProp:"NetAmount",bSortable:!1},{bSortable:!1,sClass:"hidden-print",mData:function(n){var t="";return n.PayAmount<=0&&(t='<a href="PartsAdd.aspx?id='+n.ID+'" class="hidden-print btn btn-mini btn-info" data-rel="tooltip" data-placement="top" title="تعديل" data-original-title="تعديل"><i class="icon-edit icon-only"><\/i><\/a>                                    <button class="btn btn-mini btn-danger remove" data-rel="tooltip" data-placement="top" data-original-title="حــذف" title="حــذف"><i class="icon-remove icon-only"><\/i><\/button>'),'<a href="PartsPrint.aspx?id='+n.ID+'" class="hidden-print btn btn-mini btn-grey" data-rel="tooltip" data-placement="top" title="طبــاعه" data-original-title="طبــاعه"><i class="icon-print icon-only"><\/i><\/a> '+t}}]});$("#listItems tbody").delegate("tr button","click",function(n){n.preventDefault();var t=$(this),i=t.closest("tr").index(),u;i!=null&&t.hasClass("remove")&&DeleteConfirmation(function(){u=r.fnGetData(i);var n=u.ID;commonManger.deleteData("anyThing",commonManger.successDeleted,commonManger.errorException,"PartsInvoices","ID",n)})})};return{Init:f}}();