(function($){var Timepicker;if($.ui.timepicker=$.ui.timepicker||{},!$.ui.timepicker.version){$.extend($.ui,{timepicker:{version:"1.2"}});Timepicker=function(){this.regional=[];this.regional[""]={currentText:"Now",closeText:"Done",amNames:["AM","A"],pmNames:["PM","P"],timeFormat:"HH:mm",timeSuffix:"",timeOnlyTitle:"Choose Time",timeText:"Time",hourText:"Hour",minuteText:"Minute",secondText:"Second",millisecText:"Millisecond",timezoneText:"Time Zone",isRTL:!1};this._defaults={showButtonPanel:!0,timeOnly:!1,showHour:!0,showMinute:!0,showSecond:!1,showMillisec:!1,showTimezone:!1,showTime:!0,stepHour:1,stepMinute:1,stepSecond:1,stepMillisec:1,hour:0,minute:0,second:0,millisec:0,timezone:null,useLocalTimezone:!1,defaultTimezone:"+0000",hourMin:0,minuteMin:0,secondMin:0,millisecMin:0,hourMax:23,minuteMax:59,secondMax:59,millisecMax:999,minDateTime:null,maxDateTime:null,onSelect:null,hourGrid:0,minuteGrid:0,secondGrid:0,millisecGrid:0,alwaysSetTime:!0,separator:" ",altFieldTimeOnly:!0,altTimeFormat:null,altSeparator:null,altTimeSuffix:null,pickerTimeFormat:null,pickerTimeSuffix:null,showTimepicker:!0,timezoneIso8601:!1,timezoneList:null,addSliderAccess:!1,sliderAccessArgs:null,controlType:"slider",defaultValue:null,parse:"strict"};$.extend(this._defaults,this.regional[""])};$.extend(Timepicker.prototype,{$input:null,$altInput:null,$timeObj:null,inst:null,hour_slider:null,minute_slider:null,second_slider:null,millisec_slider:null,timezone_select:null,hour:0,minute:0,second:0,millisec:0,timezone:null,defaultTimezone:"+0000",hourMinOriginal:null,minuteMinOriginal:null,secondMinOriginal:null,millisecMinOriginal:null,hourMaxOriginal:null,minuteMaxOriginal:null,secondMaxOriginal:null,millisecMaxOriginal:null,ampm:"",formattedDate:"",formattedTime:"",formattedDateTime:"",timezoneList:null,units:["hour","minute","second","millisec"],control:null,setDefaults:function(n){return t(this._defaults,n||{}),this},_newInst:function($input,o){var tp_inst=new Timepicker,inlineSettings={},fns={},overrides,i,attrName,attrValue,timezoneList;for(attrName in this._defaults)if(this._defaults.hasOwnProperty(attrName)&&(attrValue=$input.attr("time:"+attrName),attrValue))try{inlineSettings[attrName]=eval(attrValue)}catch(err){inlineSettings[attrName]=attrValue}overrides={beforeShow:function(n,t){if($.isFunction(tp_inst._defaults.evnts.beforeShow))return tp_inst._defaults.evnts.beforeShow.call($input[0],n,t,tp_inst)},onChangeMonthYear:function(n,t,i){tp_inst._updateDateTime(i);$.isFunction(tp_inst._defaults.evnts.onChangeMonthYear)&&tp_inst._defaults.evnts.onChangeMonthYear.call($input[0],n,t,i,tp_inst)},onClose:function(n,t){tp_inst.timeDefined===!0&&$input.val()!==""&&tp_inst._updateDateTime(t);$.isFunction(tp_inst._defaults.evnts.onClose)&&tp_inst._defaults.evnts.onClose.call($input[0],n,t,tp_inst)}};for(i in overrides)overrides.hasOwnProperty(i)&&(fns[i]=o[i]||null);return tp_inst._defaults=$.extend({},this._defaults,inlineSettings,o,overrides,{evnts:fns,timepicker:tp_inst}),tp_inst.amNames=$.map(tp_inst._defaults.amNames,function(n){return n.toUpperCase()}),tp_inst.pmNames=$.map(tp_inst._defaults.pmNames,function(n){return n.toUpperCase()}),typeof tp_inst._defaults.controlType=="string"?($.fn[tp_inst._defaults.controlType]===undefined&&(tp_inst._defaults.controlType="select"),tp_inst.control=tp_inst._controls[tp_inst._defaults.controlType]):tp_inst.control=tp_inst._defaults.controlType,tp_inst._defaults.timezoneList===null&&(timezoneList=["-1200","-1100","-1000","-0930","-0900","-0800","-0700","-0600","-0500","-0430","-0400","-0330","-0300","-0200","-0100","+0000","+0100","+0200","+0300","+0330","+0400","+0430","+0500","+0530","+0545","+0600","+0630","+0700","+0800","+0845","+0900","+0930","+1000","+1030","+1100","+1130","+1200","+1245","+1300","+1400"],tp_inst._defaults.timezoneIso8601&&(timezoneList=$.map(timezoneList,function(n){return n=="+0000"?"Z":n.substring(0,3)+":"+n.substring(3)})),tp_inst._defaults.timezoneList=timezoneList),tp_inst.timezone=tp_inst._defaults.timezone,tp_inst.hour=tp_inst._defaults.hour<tp_inst._defaults.hourMin?tp_inst._defaults.hourMin:tp_inst._defaults.hour>tp_inst._defaults.hourMax?tp_inst._defaults.hourMax:tp_inst._defaults.hour,tp_inst.minute=tp_inst._defaults.minute<tp_inst._defaults.minuteMin?tp_inst._defaults.minuteMin:tp_inst._defaults.minute>tp_inst._defaults.minuteMax?tp_inst._defaults.minuteMax:tp_inst._defaults.minute,tp_inst.second=tp_inst._defaults.second<tp_inst._defaults.secondMin?tp_inst._defaults.secondMin:tp_inst._defaults.second>tp_inst._defaults.secondMax?tp_inst._defaults.secondMax:tp_inst._defaults.second,tp_inst.millisec=tp_inst._defaults.millisec<tp_inst._defaults.millisecMin?tp_inst._defaults.millisecMin:tp_inst._defaults.millisec>tp_inst._defaults.millisecMax?tp_inst._defaults.millisecMax:tp_inst._defaults.millisec,tp_inst.ampm="",tp_inst.$input=$input,o.altField&&(tp_inst.$altInput=$(o.altField).css({cursor:"pointer"}).focus(function(){$input.trigger("focus")})),(tp_inst._defaults.minDate===0||tp_inst._defaults.minDateTime===0)&&(tp_inst._defaults.minDate=new Date),(tp_inst._defaults.maxDate===0||tp_inst._defaults.maxDateTime===0)&&(tp_inst._defaults.maxDate=new Date),tp_inst._defaults.minDate!==undefined&&tp_inst._defaults.minDate instanceof Date&&(tp_inst._defaults.minDateTime=new Date(tp_inst._defaults.minDate.getTime())),tp_inst._defaults.minDateTime!==undefined&&tp_inst._defaults.minDateTime instanceof Date&&(tp_inst._defaults.minDate=new Date(tp_inst._defaults.minDateTime.getTime())),tp_inst._defaults.maxDate!==undefined&&tp_inst._defaults.maxDate instanceof Date&&(tp_inst._defaults.maxDateTime=new Date(tp_inst._defaults.maxDate.getTime())),tp_inst._defaults.maxDateTime!==undefined&&tp_inst._defaults.maxDateTime instanceof Date&&(tp_inst._defaults.maxDate=new Date(tp_inst._defaults.maxDateTime.getTime())),tp_inst.$input.bind("focus",function(){tp_inst._onFocus()}),tp_inst},_addTimePicker:function(n){var t=this.$altInput&&this._defaults.altFieldTimeOnly?this.$input.val()+" "+this.$altInput.val():this.$input.val();this.timeDefined=this._parseTime(t);this._limitMinMaxDateTime(n,!1);this._injectTimePicker()},_parseTime:function(n,t){var i,r,f;if(this.inst||(this.inst=$.datepicker._getInst(this.$input[0])),t||!this._defaults.timeOnly){i=$.datepicker._get(this.inst,"dateFormat");try{if(r=u(i,this._defaults.timeFormat,n,$.datepicker._getFormatConfig(this.inst),this._defaults),!r.timeObj)return!1;$.extend(this,r.timeObj)}catch(e){return $.timepicker.log("Error parsing the date/time string: "+e+"\ndate/time string = "+n+"\ntimeFormat = "+this._defaults.timeFormat+"\ndateFormat = "+i),!1}return!0}return(f=$.datepicker.parseTime(this._defaults.timeFormat,n,this._defaults),!f)?!1:($.extend(this,f),!0)},_injectTimePicker:function(){var v=this.inst.dpDiv,r=this.inst.settings,u=this,t="",o="",l={},h={},y=null,c,e,w,g,a,f,s,p,nt,tt,k,it,d,b;if(v.find("div.ui-timepicker-div").length===0&&r.showTimepicker){for(c=' style="display:none;"',e='<div class="ui-timepicker-div'+(r.isRTL?" ui-timepicker-rtl":"")+'"><dl><dt class="ui_tpicker_time_label"'+(r.showTime?"":c)+">"+r.timeText+'<\/dt><dd class="ui_tpicker_time"'+(r.showTime?"":c)+"><\/dd>",s=0,p=this.units.length;s<p;s++){if(t=this.units[s],o=t.substr(0,1).toUpperCase()+t.substr(1),l[t]=parseInt(r[t+"Max"]-(r[t+"Max"]-r[t+"Min"])%r["step"+o],10),h[t]=0,e+='<dt class="ui_tpicker_'+t+'_label"'+(r["show"+o]?"":c)+">"+r[t+"Text"]+'<\/dt><dd class="ui_tpicker_'+t+'"><div class="ui_tpicker_'+t+'_slider"'+(r["show"+o]?"":c)+"><\/div>",r["show"+o]&&r[t+"Grid"]>0){if(e+='<div style="padding-left: 1px"><table class="ui-tpicker-grid-label"><tr>',t=="hour")for(w=r[t+"Min"];w<=l[t];w+=parseInt(r[t+"Grid"],10))h[t]++,g=$.datepicker.formatTime(n(r.pickerTimeFormat||r.timeFormat)?"hht":"HH",{hour:w},r),e+='<td data-for="'+t+'">'+g+"<\/td>";else for(a=r[t+"Min"];a<=l[t];a+=parseInt(r[t+"Grid"],10))h[t]++,e+='<td data-for="'+t+'">'+(a<10?"0":"")+a+"<\/td>";e+="<\/tr><\/table><\/div>"}e+="<\/dd>"}for(e+='<dt class="ui_tpicker_timezone_label"'+(r.showTimezone?"":c)+">"+r.timezoneText+"<\/dt>",e+='<dd class="ui_tpicker_timezone" '+(r.showTimezone?"":c)+"><\/dd>",e+="<\/dl><\/div>",f=$(e),r.timeOnly===!0&&(f.prepend('<div class="ui-widget-header ui-helper-clearfix ui-corner-all"><div class="ui-datepicker-title">'+r.timeOnlyTitle+"<\/div><\/div>"),v.find(".ui-datepicker-header, .ui-datepicker-calendar").hide()),s=0,p=u.units.length;s<p;s++)t=u.units[s],o=t.substr(0,1).toUpperCase()+t.substr(1),u[t+"_slider"]=u.control.create(u,f.find(".ui_tpicker_"+t+"_slider"),t,u[t],r[t+"Min"],l[t],r["step"+o]),r["show"+o]&&r[t+"Grid"]>0&&(y=100*h[t]*r[t+"Grid"]/(l[t]-r[t+"Min"]),f.find(".ui_tpicker_"+t+" table").css({width:y+"%",marginLeft:r.isRTL?"0":y/(-2*h[t])+"%",marginRight:r.isRTL?y/(-2*h[t])+"%":"0",borderCollapse:"collapse"}).find("td").click(function(){var i=$(this),r=i.html(),n=parseInt(r.replace(/[^0-9]/g),10),f=r.replace(/[^apm]/ig),e=i.data("for");e=="hour"&&(f.indexOf("p")!==-1&&n<12?n+=12:f.indexOf("a")!==-1&&n===12&&(n=0));u.control.value(u,u[e+"_slider"],t,n);u._onTimeChange();u._onSelectHandler()}).css({cursor:"pointer",width:100/h[t]+"%",textAlign:"center",overflow:"hidden"}));this.timezone_select=f.find(".ui_tpicker_timezone").append("<select><\/select>").find("select");$.fn.append.apply(this.timezone_select,$.map(r.timezoneList,function(n){return $("<option />").val(typeof n=="object"?n.value:n).text(typeof n=="object"?n.label:n)}));typeof this.timezone!="undefined"&&this.timezone!==null&&this.timezone!==""?(nt=new Date(this.inst.selectedYear,this.inst.selectedMonth,this.inst.selectedDay,12),tt=$.timepicker.timeZoneOffsetString(nt),tt==this.timezone?i(u):this.timezone_select.val(this.timezone)):typeof this.hour!="undefined"&&this.hour!==null&&this.hour!==""?this.timezone_select.val(r.defaultTimezone):i(u);this.timezone_select.change(function(){u._defaults.useLocalTimezone=!1;u._onTimeChange();u._onSelectHandler()});k=v.find(".ui-datepicker-buttonpane");k.length?k.before(f):v.append(f);this.$timeObj=f.find(".ui_tpicker_time");this.inst!==null&&(it=this.timeDefined,this._onTimeChange(),this.timeDefined=it);this._defaults.addSliderAccess&&(d=this._defaults.sliderAccessArgs,b=this._defaults.isRTL,d.isRTL=b,setTimeout(function(){if(f.find(".ui-slider-access").length===0){f.find(".ui-slider:visible").sliderAccess(d);var n=f.find(".ui-slider-access:eq(0)").outerWidth(!0);n&&f.find("table:visible").each(function(){var t=$(this),i=t.outerWidth(),f=t.css(b?"marginRight":"marginLeft").toString().replace("%",""),r=i-n,e=f*r/i+"%",u={width:r,marginRight:0,marginLeft:0};u[b?"marginRight":"marginLeft"]=e;t.css(u)})}},10))}},_limitMinMaxDateTime:function(n,t){var i=this._defaults,f=new Date(n.selectedYear,n.selectedMonth,n.selectedDay),r,e,u,o;if(this._defaults.showTimepicker&&($.datepicker._get(n,"minDateTime")!==null&&$.datepicker._get(n,"minDateTime")!==undefined&&f&&(r=$.datepicker._get(n,"minDateTime"),e=new Date(r.getFullYear(),r.getMonth(),r.getDate(),0,0,0,0),(this.hourMinOriginal===null||this.minuteMinOriginal===null||this.secondMinOriginal===null||this.millisecMinOriginal===null)&&(this.hourMinOriginal=i.hourMin,this.minuteMinOriginal=i.minuteMin,this.secondMinOriginal=i.secondMin,this.millisecMinOriginal=i.millisecMin),n.settings.timeOnly||e.getTime()==f.getTime()?(this._defaults.hourMin=r.getHours(),this.hour<=this._defaults.hourMin?(this.hour=this._defaults.hourMin,this._defaults.minuteMin=r.getMinutes(),this.minute<=this._defaults.minuteMin?(this.minute=this._defaults.minuteMin,this._defaults.secondMin=r.getSeconds(),this.second<=this._defaults.secondMin?(this.second=this._defaults.secondMin,this._defaults.millisecMin=r.getMilliseconds()):(this.millisec<this._defaults.millisecMin&&(this.millisec=this._defaults.millisecMin),this._defaults.millisecMin=this.millisecMinOriginal)):(this._defaults.secondMin=this.secondMinOriginal,this._defaults.millisecMin=this.millisecMinOriginal)):(this._defaults.minuteMin=this.minuteMinOriginal,this._defaults.secondMin=this.secondMinOriginal,this._defaults.millisecMin=this.millisecMinOriginal)):(this._defaults.hourMin=this.hourMinOriginal,this._defaults.minuteMin=this.minuteMinOriginal,this._defaults.secondMin=this.secondMinOriginal,this._defaults.millisecMin=this.millisecMinOriginal)),$.datepicker._get(n,"maxDateTime")!==null&&$.datepicker._get(n,"maxDateTime")!==undefined&&f&&(u=$.datepicker._get(n,"maxDateTime"),o=new Date(u.getFullYear(),u.getMonth(),u.getDate(),0,0,0,0),(this.hourMaxOriginal===null||this.minuteMaxOriginal===null||this.secondMaxOriginal===null)&&(this.hourMaxOriginal=i.hourMax,this.minuteMaxOriginal=i.minuteMax,this.secondMaxOriginal=i.secondMax,this.millisecMaxOriginal=i.millisecMax),n.settings.timeOnly||o.getTime()==f.getTime()?(this._defaults.hourMax=u.getHours(),this.hour>=this._defaults.hourMax?(this.hour=this._defaults.hourMax,this._defaults.minuteMax=u.getMinutes(),this.minute>=this._defaults.minuteMax?(this.minute=this._defaults.minuteMax,this._defaults.secondMax=u.getSeconds(),this.second>=this._defaults.secondMax?(this.second=this._defaults.secondMax,this._defaults.millisecMax=u.getMilliseconds()):(this.millisec>this._defaults.millisecMax&&(this.millisec=this._defaults.millisecMax),this._defaults.millisecMax=this.millisecMaxOriginal)):(this._defaults.secondMax=this.secondMaxOriginal,this._defaults.millisecMax=this.millisecMaxOriginal)):(this._defaults.minuteMax=this.minuteMaxOriginal,this._defaults.secondMax=this.secondMaxOriginal,this._defaults.millisecMax=this.millisecMaxOriginal)):(this._defaults.hourMax=this.hourMaxOriginal,this._defaults.minuteMax=this.minuteMaxOriginal,this._defaults.secondMax=this.secondMaxOriginal,this._defaults.millisecMax=this.millisecMaxOriginal)),t!==undefined&&t===!0)){var s=parseInt(this._defaults.hourMax-(this._defaults.hourMax-this._defaults.hourMin)%this._defaults.stepHour,10),h=parseInt(this._defaults.minuteMax-(this._defaults.minuteMax-this._defaults.minuteMin)%this._defaults.stepMinute,10),c=parseInt(this._defaults.secondMax-(this._defaults.secondMax-this._defaults.secondMin)%this._defaults.stepSecond,10),l=parseInt(this._defaults.millisecMax-(this._defaults.millisecMax-this._defaults.millisecMin)%this._defaults.stepMillisec,10);this.hour_slider&&(this.control.options(this,this.hour_slider,"hour",{min:this._defaults.hourMin,max:s}),this.control.value(this,this.hour_slider,"hour",this.hour-this.hour%this._defaults.stepHour));this.minute_slider&&(this.control.options(this,this.minute_slider,"minute",{min:this._defaults.minuteMin,max:h}),this.control.value(this,this.minute_slider,"minute",this.minute-this.minute%this._defaults.stepMinute));this.second_slider&&(this.control.options(this,this.second_slider,"second",{min:this._defaults.secondMin,max:c}),this.control.value(this,this.second_slider,"second",this.second-this.second%this._defaults.stepSecond));this.millisec_slider&&(this.control.options(this,this.millisec_slider,"millisec",{min:this._defaults.millisecMin,max:l}),this.control.value(this,this.millisec_slider,"millisec",this.millisec-this.millisec%this._defaults.stepMillisec))}},_onTimeChange:function(){var t=this.hour_slider?this.control.value(this,this.hour_slider,"hour"):!1,r=this.minute_slider?this.control.value(this,this.minute_slider,"minute"):!1,u=this.second_slider?this.control.value(this,this.second_slider,"second"):!1,f=this.millisec_slider?this.control.value(this,this.millisec_slider,"millisec"):!1,e=this.timezone_select?this.timezone_select.val():!1,i=this._defaults,s=i.pickerTimeFormat||i.timeFormat,h=i.pickerTimeSuffix||i.timeSuffix,c,o;typeof t=="object"&&(t=!1);typeof r=="object"&&(r=!1);typeof u=="object"&&(u=!1);typeof f=="object"&&(f=!1);typeof e=="object"&&(e=!1);t!==!1&&(t=parseInt(t,10));r!==!1&&(r=parseInt(r,10));u!==!1&&(u=parseInt(u,10));f!==!1&&(f=parseInt(f,10));c=i[t<12?"amNames":"pmNames"][0];o=t!=this.hour||r!=this.minute||u!=this.second||f!=this.millisec||this.ampm.length>0&&t<12!=($.inArray(this.ampm.toUpperCase(),this.amNames)!==-1)||this.timezone===null&&e!=this.defaultTimezone||this.timezone!==null&&e!=this.timezone;o&&(t!==!1&&(this.hour=t),r!==!1&&(this.minute=r),u!==!1&&(this.second=u),f!==!1&&(this.millisec=f),e!==!1&&(this.timezone=e),this.inst||(this.inst=$.datepicker._getInst(this.$input[0])),this._limitMinMaxDateTime(this.inst,!0));n(i.timeFormat)&&(this.ampm=c);this.formattedTime=$.datepicker.formatTime(i.timeFormat,this,i);this.$timeObj&&(s===i.timeFormat?this.$timeObj.text(this.formattedTime+h):this.$timeObj.text($.datepicker.formatTime(s,this,i)+h));this.timeDefined=!0;o&&this._updateDateTime()},_onSelectHandler:function(){var n=this._defaults.onSelect||this.inst.settings.onSelect,t=this.$input?this.$input[0]:null;n&&t&&n.apply(t,[this.formattedDateTime,this])},_updateDateTime:function(n){var t;n=this.inst||n;var i=$.datepicker._daylightSavingAdjust(new Date(n.selectedYear,n.selectedMonth,n.selectedDay)),e=$.datepicker._get(n,"dateFormat"),u=$.datepicker._getFormatConfig(n),o=i!==null&&this.timeDefined;if(this.formattedDate=$.datepicker.formatDate(e,i===null?new Date:i,u),t=this.formattedDate,n.lastVal==""&&(n.currentYear=n.selectedYear,n.currentMonth=n.selectedMonth,n.currentDay=n.selectedDay),this._defaults.timeOnly===!0?t=this.formattedTime:this._defaults.timeOnly!==!0&&(this._defaults.alwaysSetTime||o)&&(t+=this._defaults.separator+this.formattedTime+this._defaults.timeSuffix),this.formattedDateTime=t,this._defaults.showTimepicker)if(this.$altInput&&this._defaults.altFieldTimeOnly===!0)this.$altInput.val(this.formattedTime),this.$input.val(this.formattedDate);else if(this.$altInput){this.$input.val(t);var r="",s=this._defaults.altSeparator?this._defaults.altSeparator:this._defaults.separator,f=this._defaults.altTimeSuffix?this._defaults.altTimeSuffix:this._defaults.timeSuffix;r=this._defaults.altFormat?$.datepicker.formatDate(this._defaults.altFormat,i===null?new Date:i,u):this.formattedDate;r&&(r+=s);r+=this._defaults.altTimeFormat?$.datepicker.formatTime(this._defaults.altTimeFormat,this,this._defaults)+f:this.formattedTime+f;this.$altInput.val(r)}else this.$input.val(t);else this.$input.val(this.formattedDate);this.$input.trigger("change")},_onFocus:function(){if(!this.$input.val()&&this._defaults.defaultValue){this.$input.val(this._defaults.defaultValue);var n=$.datepicker._getInst(this.$input.get(0)),t=$.datepicker._get(n,"timepicker");if(t&&t._defaults.timeOnly&&n.input.val()!=n.lastVal)try{$.datepicker._updateDatepicker(n)}catch(i){$.timepicker.log(i)}}},_controls:{slider:{create:function(n,t,i,r,u,f,e){var o=n._defaults.isRTL;return t.prop("slide",null).slider({orientation:"horizontal",value:o?r*-1:r,min:o?f*-1:u,max:o?u*-1:f,step:e,slide:function(t,r){n.control.value(n,$(this),i,o?r.value*-1:r.value);n._onTimeChange()},stop:function(){n._onSelectHandler()}})},options:function(n,t,i,r,u){if(n._defaults.isRTL){if(typeof r=="string")return r=="min"||r=="max"?u!==undefined?t.slider(r,u*-1):Math.abs(t.slider(r)):t.slider(r);var f=r.min,e=r.max;return r.min=r.max=null,f!==undefined&&(r.max=f*-1),e!==undefined&&(r.min=e*-1),t.slider(r)}return typeof r=="string"&&u!==undefined?t.slider(r,u):t.slider(r)},value:function(n,t,i,r){return n._defaults.isRTL?r!==undefined?t.slider("value",r*-1):Math.abs(t.slider("value")):r!==undefined?t.slider("value",r):t.slider("value")}},select:{create:function(t,i,r,u,f,e,o){for(var h='<select class="ui-timepicker-select" data-unit="'+r+'" data-min="'+f+'" data-max="'+e+'" data-step="'+o+'">',c=t._defaults.timeFormat.indexOf("t")!==-1?"toLowerCase":"toUpperCase",s=f;s<=e;s+=o)h+='<option value="'+s+'"'+(s==u?" selected":"")+">",h+=r=="hour"&&n(t._defaults.pickerTimeFormat||t._defaults.timeFormat)?$.datepicker.formatTime("hh TT",{hour:s},t._defaults):r=="millisec"||s>=10?s:"0"+s.toString(),h+="<\/option>";return h+="<\/select>",i.children("select").remove(),$(h).appendTo(i).change(function(){t._onTimeChange();t._onSelectHandler()}),i},options:function(n,t,i,r,u){var e={},f=t.children("select");if(typeof r=="string"){if(u===undefined)return f.data(r);e[r]=u}else e=r;return n.control.create(n,t,f.data("unit"),f.val(),e.min||f.data("min"),e.max||f.data("max"),e.step||f.data("step"))},value:function(n,t,i,r){var u=t.children("select");return r!==undefined?u.val(r):u.val()}}}});$.fn.extend({timepicker:function(n){n=n||{};var t=Array.prototype.slice.call(arguments);return typeof n=="object"&&(t[0]=$.extend(n,{timeOnly:!0})),$(this).each(function(){$.fn.datetimepicker.apply($(this),t)})},datetimepicker:function(n){n=n||{};var t=arguments;return typeof n=="string"?n=="getDate"?$.fn.datepicker.apply($(this[0]),t):this.each(function(){var n=$(this);n.datepicker.apply(n,t)}):this.each(function(){var t=$(this);t.datepicker($.timepicker._newInst(t,n)._defaults)})}});$.datepicker.parseDateTime=function(n,t,i,r,f){var o=u(n,t,i,r,f),e;return o.timeObj&&(e=o.timeObj,o.date.setHours(e.hour,e.minute,e.second,e.millisec)),o.date};$.datepicker.parseTime=function(n,i,r){var u=t(t({},$.timepicker._defaults),r||{}),f=function(n,t,i){var s=function(n,t){var i=[];return n&&$.merge(i,n),t&&$.merge(i,t),i=$.map(i,function(n){return n.replace(/[.*+?|()\[\]{}\\]/g,"\\$&")}),"("+i.join("|")+")?"},h=function(n){var i=n.toLowerCase().match(/(h{1,2}|m{1,2}|s{1,2}|l{1}|t{1,2}|z|'.*?')/g),r={h:-1,m:-1,s:-1,l:-1,t:-1,z:-1},t;if(i)for(t=0;t<i.length;t++)r[i[t].toString().charAt(0)]==-1&&(r[i[t].toString().charAt(0)]=t+1);return r},c="^"+n.toString().replace(/([hH]{1,2}|mm?|ss?|[tT]{1,2}|[lz]|'.*?')/g,function(n){var t=n.length;switch(n.charAt(0).toLowerCase()){case"h":return t===1?"(\\d?\\d)":"(\\d{"+t+"})";case"m":return t===1?"(\\d?\\d)":"(\\d{"+t+"})";case"s":return t===1?"(\\d?\\d)":"(\\d{"+t+"})";case"l":return"(\\d?\\d?\\d)";case"z":return"(z|[-+]\\d\\d:?\\d\\d|\\S+)?";case"t":return s(i.amNames,i.pmNames);default:return"("+n.replace(/\'/g,"").replace(/(\.|\$|\^|\\|\/|\(|\)|\[|\]|\?|\+|\*)/g,function(n){return"\\"+n})+")?"}}).replace(/\s/g,"\\s?")+i.timeSuffix+"$",r=h(n),o="",u,e,f;if(u=t.match(new RegExp(c,"i")),e={hour:0,minute:0,second:0,millisec:0},u){if(r.t!==-1&&(u[r.t]===undefined||u[r.t].length===0?(o="",e.ampm=""):(o=$.inArray(u[r.t].toUpperCase(),i.amNames)!==-1?"AM":"PM",e.ampm=i[o=="AM"?"amNames":"pmNames"][0])),r.h!==-1&&(e.hour=o=="AM"&&u[r.h]=="12"?0:o=="PM"&&u[r.h]!="12"?parseInt(u[r.h],10)+12:Number(u[r.h])),r.m!==-1&&(e.minute=Number(u[r.m])),r.s!==-1&&(e.second=Number(u[r.s])),r.l!==-1&&(e.millisec=Number(u[r.l])),r.z!==-1&&u[r.z]!==undefined){f=u[r.z].toUpperCase();switch(f.length){case 1:f=i.timezoneIso8601?"Z":"+0000";break;case 5:i.timezoneIso8601&&(f=f.substring(1)=="0000"?"Z":f.substring(0,3)+":"+f.substring(3));break;case 6:i.timezoneIso8601?f.substring(1)=="00:00"&&(f="Z"):f=f=="Z"||f.substring(1)=="00:00"?"+0000":f.replace(/:/,"")}e.timezone=f}return e}return!1},e=function(n,t,i){try{var r=new Date("2012-01-01 "+t);if(isNaN(r.getTime())&&(r=new Date("2012-01-01T"+t),isNaN(r.getTime())&&(r=new Date("01/01/2012 "+t),isNaN(r.getTime()))))throw"Unable to parse time with native Date: "+t;return{hour:r.getHours(),minute:r.getMinutes(),second:r.getSeconds(),millisec:r.getMilliseconds(),timezone:$.timepicker.timeZoneOffsetString(r)}}catch(u){try{return f(n,t,i)}catch(e){$.timepicker.log("Unable to parse \ntimeString: "+t+"\ntimeFormat: "+n)}}return!1};return typeof u.parse=="function"?u.parse(n,i,u):u.parse==="loose"?e(n,i,u):f(n,i,u)};$.datepicker.formatTime=function(n,t,i){i=i||{};i=$.extend({},$.timepicker._defaults,i);t=$.extend({hour:0,minute:0,second:0,millisec:0,timezone:"+0000"},t);var e=n,u=i.amNames[0],f=parseInt(t.hour,10);return f>11&&(u=i.pmNames[0]),e=e.replace(/(?:HH?|hh?|mm?|ss?|[tT]{1,2}|[lz]|('.*?'|".*?"))/g,function(n){switch(n){case"HH":return("0"+f).slice(-2);case"H":return f;case"hh":return("0"+r(f)).slice(-2);case"h":return r(f);case"mm":return("0"+t.minute).slice(-2);case"m":return t.minute;case"ss":return("0"+t.second).slice(-2);case"s":return t.second;case"l":return("00"+t.millisec).slice(-3);case"z":return t.timezone===null?i.defaultTimezone:t.timezone;case"T":return u.charAt(0).toUpperCase();case"TT":return u.toUpperCase();case"t":return u.charAt(0).toLowerCase();case"tt":return u.toLowerCase();default:return n.replace(/\'/g,"")||"'"}}),$.trim(e)};$.datepicker._base_selectDate=$.datepicker._selectDate;$.datepicker._selectDate=function(n,t){var i=this._getInst($(n)[0]),r=this._get(i,"timepicker");r?(r._limitMinMaxDateTime(i,!0),i.inline=i.stay_open=!0,this._base_selectDate(n,t),i.inline=i.stay_open=!1,this._notifyChange(i),this._updateDatepicker(i)):this._base_selectDate(n,t)};$.datepicker._base_updateDatepicker=$.datepicker._updateDatepicker;$.datepicker._updateDatepicker=function(n){var i=n.input[0],t;$.datepicker._curInst&&$.datepicker._curInst!=n&&$.datepicker._datepickerShowing&&$.datepicker._lastInput!=i||(typeof n.stay_open!="boolean"||n.stay_open===!1)&&(this._base_updateDatepicker(n),t=this._get(n,"timepicker"),t&&t._addTimePicker(n))};$.datepicker._base_doKeyPress=$.datepicker._doKeyPress;$.datepicker._doKeyPress=function(t){var u=$.datepicker._getInst(t.target),i=$.datepicker._get(u,"timepicker");if(i&&$.datepicker._get(u,"constrainInput")){var r=n(i._defaults.timeFormat),f=$.datepicker._possibleChars($.datepicker._get(u,"dateFormat")),o=i._defaults.timeFormat.toString().replace(/[hms]/g,"").replace(/TT/g,r?"APM":"").replace(/Tt/g,r?"AaPpMm":"").replace(/tT/g,r?"AaPpMm":"").replace(/T/g,r?"AP":"").replace(/tt/g,r?"apm":"").replace(/t/g,r?"ap":"")+" "+i._defaults.separator+i._defaults.timeSuffix+(i._defaults.showTimezone?i._defaults.timezoneList.join(""):"")+i._defaults.amNames.join("")+i._defaults.pmNames.join("")+f,e=String.fromCharCode(t.charCode===undefined?t.keyCode:t.charCode);return t.ctrlKey||e<" "||!f||o.indexOf(e)>-1}return $.datepicker._base_doKeyPress(t)};$.datepicker._base_updateAlternate=$.datepicker._updateAlternate;$.datepicker._updateAlternate=function(n){var t=this._get(n,"timepicker"),r;if(t){if(r=t._defaults.altField,r){var h=t._defaults.altFormat||t._defaults.dateFormat,u=this._getDate(n),e=$.datepicker._getFormatConfig(n),i="",f=t._defaults.altSeparator?t._defaults.altSeparator:t._defaults.separator,o=t._defaults.altTimeSuffix?t._defaults.altTimeSuffix:t._defaults.timeSuffix,s=t._defaults.altTimeFormat!==null?t._defaults.altTimeFormat:t._defaults.timeFormat;i+=$.datepicker.formatTime(s,t,t._defaults)+o;t._defaults.timeOnly||t._defaults.altFieldTimeOnly||u===null||(i=t._defaults.altFormat?$.datepicker.formatDate(t._defaults.altFormat,u,e)+f+i:t.formattedDate+f+i);$(r).val(i)}}else $.datepicker._base_updateAlternate(n)};$.datepicker._base_doKeyUp=$.datepicker._doKeyUp;$.datepicker._doKeyUp=function(n){var t=$.datepicker._getInst(n.target),i=$.datepicker._get(t,"timepicker");if(i&&i._defaults.timeOnly&&t.input.val()!=t.lastVal)try{$.datepicker._updateDatepicker(t)}catch(r){$.timepicker.log(r)}return $.datepicker._base_doKeyUp(n)};$.datepicker._base_gotoToday=$.datepicker._gotoToday;$.datepicker._gotoToday=function(n){var t=this._getInst($(n)[0]),f=t.dpDiv,r,u;this._base_gotoToday(n);r=this._get(t,"timepicker");i(r);u=new Date;this._setTime(t,u);$(".ui-datepicker-today",f).click()};$.datepicker._disableTimepickerDatepicker=function(n){var i=this._getInst(n),t;i&&(t=this._get(i,"timepicker"),$(n).datepicker("getDate"),t&&(t._defaults.showTimepicker=!1,t._updateDateTime(i)))};$.datepicker._enableTimepickerDatepicker=function(n){var i=this._getInst(n),t;i&&(t=this._get(i,"timepicker"),$(n).datepicker("getDate"),t&&(t._defaults.showTimepicker=!0,t._addTimePicker(i),t._updateDateTime(i)))};$.datepicker._setTime=function(n,t){var i=this._get(n,"timepicker"),r;i&&(r=i._defaults,i.hour=t?t.getHours():r.hour,i.minute=t?t.getMinutes():r.minute,i.second=t?t.getSeconds():r.second,i.millisec=t?t.getMilliseconds():r.millisec,i._limitMinMaxDateTime(n,!0),i._onTimeChange(),i._updateDateTime(n))};$.datepicker._setTimeDatepicker=function(n,t,i){var f=this._getInst(n),r,u;f&&(r=this._get(f,"timepicker"),r&&(this._setDateFromField(f),t&&(typeof t=="string"?(r._parseTime(t,i),u=new Date,u.setHours(r.hour,r.minute,r.second,r.millisec)):u=new Date(t.getTime()),u.toString()=="Invalid Date"&&(u=undefined),this._setTime(f,u))))};$.datepicker._base_setDateDatepicker=$.datepicker._setDateDatepicker;$.datepicker._setDateDatepicker=function(n,t){var i=this._getInst(n),r;i&&(r=t instanceof Date?new Date(t.getTime()):t,this._updateDatepicker(i),this._base_setDateDatepicker.apply(this,arguments),this._setTimeDatepicker(n,r,!0))};$.datepicker._base_getDateDatepicker=$.datepicker._getDateDatepicker;$.datepicker._getDateDatepicker=function(n,t){var r=this._getInst(n),i,u;if(r)return(i=this._get(r,"timepicker"),i)?(r.lastVal===undefined&&this._setDateFromField(r,t),u=this._getDate(r),u&&i._parseTime($(n).val(),i.timeOnly)&&u.setHours(i.hour,i.minute,i.second,i.millisec),u):this._base_getDateDatepicker(n,t)};$.datepicker._base_parseDate=$.datepicker.parseDate;$.datepicker.parseDate=function(n,t,i){var r;try{r=this._base_parseDate(n,t,i)}catch(u){r=this._base_parseDate(n,t.substring(0,t.length-(u.length-u.indexOf(":")-2)),i);$.timepicker.log("Error parsing the date string: "+u+"\ndate string = "+t+"\ndate format = "+n)}return r};$.datepicker._base_formatDate=$.datepicker._formatDate;$.datepicker._formatDate=function(n){var t=this._get(n,"timepicker");return t?(t._updateDateTime(n),t.$input.val()):this._base_formatDate(n)};$.datepicker._base_optionDatepicker=$.datepicker._optionDatepicker;$.datepicker._optionDatepicker=function(n,t,i){var a=this._getInst(n),s,o;if(!a)return null;if(o=this._get(a,"timepicker"),o){var u=null,e=null,l=null,h=o._defaults.evnts,c={},r;if(typeof t=="string"){if(t==="minDate"||t==="minDateTime")u=i;else if(t==="maxDate"||t==="maxDateTime")e=i;else if(t==="onSelect")l=i;else if(h.hasOwnProperty(t)){if(typeof i=="undefined")return h[t];c[t]=i;s={}}}else if(typeof t=="object"){t.minDate?u=t.minDate:t.minDateTime?u=t.minDateTime:t.maxDate?e=t.maxDate:t.maxDateTime&&(e=t.maxDateTime);for(r in h)h.hasOwnProperty(r)&&t[r]&&(c[r]=t[r])}for(r in c)c.hasOwnProperty(r)&&(h[r]=c[r],s||(s=$.extend({},t)),delete s[r]);if(s&&f(s))return;u?(u=u===0?new Date:new Date(u),o._defaults.minDate=u,o._defaults.minDateTime=u):e?(e=e===0?new Date:new Date(e),o._defaults.maxDate=e,o._defaults.maxDateTime=e):l&&(o._defaults.onSelect=l)}return i===undefined?this._base_optionDatepicker.call($.datepicker,n,t):this._base_optionDatepicker.call($.datepicker,n,s||t,i)};var f=function(n){for(var t in n)if(n.hasOwnProperty(n))return!1;return!0},t=function(n,t){$.extend(n,t);for(var i in t)(t[i]===null||t[i]===undefined)&&(n[i]=t[i]);return n},n=function(n){return n.indexOf("t")!==-1&&n.indexOf("h")!==-1},r=function(n){return n>12&&(n=n-12),n==0&&(n=12),String(n)},e=function(n,t,i,r){var e,a;try{var f=r&&r.separator?r.separator:$.timepicker._defaults.separator,c=r&&r.timeFormat?r.timeFormat:$.timepicker._defaults.timeFormat,l=c.split(f),s=l.length,o=t.split(f),h=o.length;if(h>1)return[o.splice(0,h-s).join(f),o.splice(0,s).join(f)]}catch(u){if($.timepicker.log("Could not split the date from the time. Please check the following datetimepicker options\nthrown error: "+u+"\ndateTimeString"+t+"\ndateFormat = "+n+"\nseparator = "+r.separator+"\ntimeFormat = "+r.timeFormat),u.indexOf(":")>=0)return e=t.length-(u.length-u.indexOf(":")-2),a=t.substring(e),[$.trim(t.substring(0,e)),$.trim(t.substring(e))];throw u;}return[t,""]},u=function(n,t,i,r,u){var f,o=e(n,i,r,u),h,s;if(f=$.datepicker._base_parseDate(n,o[0],r),o[1]!==""){if(h=o[1],s=$.datepicker.parseTime(t,h,u),s===null)throw"Wrong time format";return{date:f,timeObj:s}}return{date:f}},i=function(n,t){if(n&&n.timezone_select){n._defaults.useLocalTimezone=!0;var r=typeof t!="undefined"?t:new Date,i=$.timepicker.timeZoneOffsetString(r);n._defaults.timezoneIso8601&&(i=i.substring(0,3)+":"+i.substring(3));n.timezone_select.val(i)}};$.timepicker=new Timepicker;$.timepicker.timeZoneOffsetString=function(n){var t=n.getTimezoneOffset()*-1,i=t%60,r=(t-i)/60;return(t>=0?"+":"-")+("0"+(r*101).toString()).slice(-2)+("0"+(i*101).toString()).slice(-2)};$.timepicker.timeRange=function(n,t,i){return $.timepicker.handleRange("timepicker",n,t,i)};$.timepicker.dateTimeRange=function(n,t,i){$.timepicker.dateRange(n,t,i,"datetimepicker")};$.timepicker.dateRange=function(n,t,i,r){r=r||"datepicker";$.timepicker.handleRange(r,n,t,i)};$.timepicker.handleRange=function(n,t,i,r){function f(n,r,u){r.val()&&new Date(t.val())>new Date(i.val())&&r.val(u)}function u(t,i,r){if($(t).val()){var u=$(t)[n].call($(t),"getDate");u.getTime&&$(i)[n].call($(i),"option",r,u)}}return $.fn[n].call(t,$.extend({onClose:function(n){f(this,i,n)},onSelect:function(){u(this,i,"minDate")}},r,r.start)),$.fn[n].call(i,$.extend({onClose:function(n){f(this,t,n)},onSelect:function(){u(this,t,"maxDate")}},r,r.end)),n!="timepicker"&&r.reformat&&$([t,i]).each(function(){var i=$(this)[n].call($(this),"option","dateFormat"),t=new Date($(this).val());$(this).val()&&t&&$(this).val($.datepicker.formatDate(i,t))}),f(t,i,t.val()),u(t,i,"minDate"),u(i,t,"maxDate"),$([t.get(0),i.get(0)])};$.timepicker.log=function(n){window.console&&console.log(n)};$.timepicker.version="1.2"}})(jQuery);
//# sourceMappingURL=jquery-ui-timepicker-addon.min.js.map
