var ModelsManager=function(){var i=function(){$("a.btn-add").on("click",function(){$("#aspnetForm")[0].reset();commonManger.ResetControls("formMain");$("#ModelID").val("0");commonManger.enableAllFormElements("aspnetForm");commonManger.showPopUpDialog("اضافة موديل السيارة","insert","ModelModal")});f();r()},r=function(){$("#ModelModal .modal-footer .btn-success").on("click",function(i){var f,e;i.preventDefault();var r={};r.ModelID=$("#ModelID").val();r.MakerID=$("#ddlMakerID option:selected").val();r.TypeNameAr=$("#txtTypeNameAr").val();r.TypeNameEn=$("#txtTypeNameEn").val();r.CarSizeID=$("#CarSizeID").val();f={scParam:r};e=u();e&&commonManger.doWork("ModelModal","aspnetForm","Models.aspx/SaveModel",f,n,t)})},n=function(n){n=n.d;$("#ModelModal").modal("hide");commonManger.showMessage("تمت عملية الإضافه بنجاح.",n.Message);n.Status&&$("#listItems").dataTable().fnDraw()},t=function(n,t,i){var r=t+": "+i,u=JSON.parse(n.responseText).Message;commonManger.showMessage(r,u)},u=function(){var n=!1;return $("#txtTypeNameEn").val()!=""&&$("#txtTypeNameAr").val()!=""&&$("select[id$=ddlMakerID] option:selected").val()!=""&&(n=!0),n},f=function(){var i=$("#listItems").DataTable({sDom:"<'row-fluid'<'span6'l><'span6 lft-pane'Tf>r>t<'row-fluid'<'span6'i><'span6'p>>",oTableTools:{aButtons:["copy","xls","print"]},bServerSide:!0,responsive:!0,responsive:!0,sAjaxSource:"Models.aspx/GetModels",fnServerData:function(n,t,i){dataService.callAjax("GET",t,n,function(n){n.d.aaData=$.parseJSON(n.d.aaData);i(n.d)},commonManger.errorException)},iDisplayLength:50,aoColumns:[{mDataProp:"ModelID",bSortable:!0},{mDataProp:"TypeNameAr",bSortable:!0},{mDataProp:"TypeNameEn",bSortable:!0},{mDataProp:"MakerNameEn",bSortable:!0},{mDataProp:"CarSizeName",bSortable:!1},{bSortable:!1,sClass:"hidden-print",mData:function(){return'<button class="btn btn-minier btn-info edit" data-rel="tooltip" data-placement="top" data-original-title="تعديل"><i class="icon-edit"><\/i><\/button> <button class="btn btn-minier btn-danger remove" data-rel="tooltip" data-placement="top" data-original-title="حــذف"><i class="icon-remove"><\/i><\/button>'}}]});commonManger.searchData(i);$("#listItems tbody").delegate("tr button","click",function(r){var f,e,u;if(r.preventDefault(),f=$(this),e=f.closest("tr"),e!=null)if(f.hasClass("edit"))u=i.row(e).data(),$("#aspnetForm")[0].reset(),commonManger.enableAllFormElements("aspnetForm"),$("#ModelID").val(u.ModelID),$("#txtTypeNameAr").val(u.TypeNameAr),$("#txtTypeNameEn").val(u.TypeNameEn),$("select[id$=ddlMakerID]").val(u.MakerID),$("select[id$=ddlMakerID]").trigger("chosen:updated"),$("#CarSizeID").val(u.CarSizeID),commonManger.showPopUpDialog("تعديل موديل السيارة","edit","ModelModal");else f.hasClass("remove")&&DeleteConfirmation(function(){u=i.row(e).data();var r=u.ModelID;commonManger.deleteData("anyThing",n,t,"CarsModel","ModelID",r)})})};return{Init:i}}();
//# sourceMappingURL=ModelsManager.min.js.map
