var ServiceTypesManager=function(){var n=function(){$("a.btn-add").on("click",function(){$("#aspnetForm")[0].reset();$("#ServiceTypeID").val("0");commonManger.enableAllFormElements("aspnetForm");commonManger.showPopUpDialog("اضافة نوع الخدمة","insert","ServiceTypeModal")});f();t()},t=function(){$("#ServiceTypeModal .modal-footer .btn-success").on("click",function(n){var f,e;n.preventDefault();var t={};t.ServiceTypeID=$("#ServiceTypeID").val();t.ServiceTypeNameAr=$("#txtServiceTypeNameAr").val();t.ServiceTypeNameEn=$("#txtServiceTypeNameEn").val();f={scParam:t};e=u();e&&commonManger.doWork("ServiceTypeModal","aspnetForm","ServiceTypes.aspx/SaveServiceType",f,i,r)})},i=function(n){n=n.d;$("#ServiceTypeModal").modal("hide");commonManger.showMessage("تمت عملية الإضافه بنجاح.",n.Message);n.Status&&$("#listItems").dataTable().fnDraw()},r=function(n,t,i){var r=t+": "+i,u=JSON.parse(n.responseText).Message;commonManger.showMessage(r,u)},u=function(){var n=!1;return $("#txtServiceTypeNameEn").val()!=""&&$("#txtServiceTypeNameAr").val()!=""&&(n=!0),n},f=function(){var n=$("#listItems").dataTable({bServerSide:!0,responsive:!0,sAjaxSource:"ServiceTypes.aspx/GetServiceTypes",fnServerData:function(n,t,i){$.ajax({type:"GET",dataType:"json",contentType:"application/json; charset=utf-8",url:n,data:t,success:function(n){i(n.d)},error:function(n){commonManger.showMessage("خطأ بالخادم!",n.Message)}})},iDisplayLength:50,aoColumns:[{mDataProp:"ServiceTypeID",bSearchable:!1,bSortable:!0},{mDataProp:"ServiceTypeNameAr",bSearchable:!0,bSortable:!0},{mDataProp:"ServiceTypeNameEn",bSearchable:!0,bSortable:!0},{mData:function(){return'<button class="btn btn-minier btn-info edit" data-rel="tooltip" data-placement="top" data-original-title="تعديل"><i class="icon-edit"><\/i><\/button><button class="btn btn-minier btn-danger remove" data-rel="tooltip" data-placement="top" data-original-title="حــذف"><i class="icon-remove"><\/i><\/button>'}}]});commonManger.searchData(n);$("#listItems tbody").delegate("tr button","click",function(t){var r,u,i;if(t.preventDefault(),r=$(this),u=r.closest("tr").index(),u!=null)if(r.hasClass("edit")){var f="تعديل نوع الخدمة",e="edit",o="ServiceTypeModal";i=n.fnGetData(u);$("#aspnetForm")[0].reset();commonManger.enableAllFormElements("aspnetForm");$("#ServiceTypeID").val(i.ServiceTypeID);$("#txtServiceTypeNameAr").val(i.ServiceTypeNameAr);$("#txtServiceTypeNameEn").val(i.ServiceTypeNameEn);commonManger.showPopUpDialog(f,e,o)}else if(r.hasClass("remove"))alert("remove");else if(r.hasClass("view")){var f="عرض النوع الخدمة",e="edit",o="ServiceTypeModal";i=n.fnGetData(u);$("#aspnetForm")[0].reset();$("#ServiceTypeID").val(i.ServiceTypeID);$("#txtServiceTypeNameAr").val(i.ServiceTypeNameAr);$("#txtServiceTypeNameEn").val(i.ServiceTypeNameEn);commonManger.showPopUpDialog(f,e,o);commonManger.disableAllFormElements("aspnetForm")}})};return{Init:n}}();
//# sourceMappingURL=ServiceTypesManager.min.js.map
