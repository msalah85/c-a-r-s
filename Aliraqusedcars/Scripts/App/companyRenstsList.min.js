var pageManager=pageManager||{},pageManager=function(){"use strict";var n=function(){i()},r=function(){$("#btnSearchAll").click(function(n){n.preventDefault();buyer=$("#Buyer").val();chassis=$("#ChassisN").val();paid=$("#Paid").val();from=$("#From").val();to=$("#To").val();commonManger.showOptionPrintTitle($("#Paid option:selected").text());t()});$("#CreateReceiptPayment").on("show.bs.modal",function(){var n=0,t=0,i=0,r=null,u=[];$('input[name="payReceipt"]').each(function(){n+=parseFloat($(this).val());u.push($(this).attr("data-id"));i++;var f=$(this).attr("data-buyer");f!==r&&(t++,r=f)});$("#IDs").val(u.join(","));$("#noCars").val(i);$("#noBuyers").val(t);$("#totalAmount").val(n);calculateTotalDhs()});$("#Fines").on("blur change keyup",function(){calculateTotalDhs()});$("#CreateReceiptPayment .modal-footer .btn-success").click(function(n){n.preventDefault();var i=$("#IDs").val(),t=$("#totalAmountDhs").val();t>0?window.location.href="ReceiptPaymentsAdd.aspx?pamount="+t+"&ids="+i:$(".modal").modal("hide")})},t=function(){$("#listItems").DataTable().draw()},i=function(){var n=$("#listItems").DataTable({sDom:"<'row-fluid'<'span6'l><'span6 lft-pane'BT>r>t<'row-fluid'<'span6'i><'span6'p>>",buttons:[{extend:"csv",text:"تصدير إكسيل"},{extend:"copy",text:"نسـخ"},{text:"طباعة",action:function(){$(".dataTables_length,.form-horizontal").closest("div.row-fluid").addClass("hidden-print");window.print()}}],deferRender:!0,bServerSide:!0,responsive:!0,bRetrieve:!1,bDestroy:!0,sAjaxSource:sUrl+"LoadDataTablesXML",fnServerParams:function(n){n.push({name:"funName",value:"Rents_List"})},fnServerData:function(n,t,i){dataService.callAjax("GET",t,n,function(n){commonManger.setData2Grid(n,t.sEcho,i)},commonManger.errorException)},iDisplayLength:50,aaSorting:[],aoColumns:[{bSortable:!0,mData:"Year"},{mData:function(n){return commonManger.formatJSONDateCal(n.DuDate,"dd/MM/yyyy")}},{mData:function(n){return numeral(n.Amount).format("0,0")},bSortable:!1},{mData:"Notes",bSortable:!1},{mData:function(n){return n.ReceiptID?'<i class="icon-ok green"><\/i> <a title="عرض سند الصرف" href="ReceiptPaymentsPrint.aspx?id='+n.ReceiptID+'">'+n.ReceiptID+"<\/a>":'<a title="انشاء سند صرف" href="ReceiptPaymentsAdd.aspx?rentamount='+numeral(n.Amount).format("0")+"&ids="+n.RentDetailsID+'">سند صرف<\/a>'},bSortable:!1},{bSortable:!1,sClass:"hidden-print",mData:function(n){return n.ReceiptID?"":'<a href="CompanyRentsAdd.aspx?id='+n.RentID+'" class="hidden-print btn btn-mini btn-info pull-left" title="تعــديل"><i class="icon-edit icon-only"><\/i><\/a>'}}]})};return{Init:n}}();
//# sourceMappingURL=companyRenstsList.min.js.map
