var CommissionsManager=function(){var i=function(){$("a.btn-add").on("click",function(){$("#aspnetForm")[0].reset();commonManger.enableAllFormElements("aspnetForm");commonManger.showPopUpDialog("اضافة عمولة الشركة","insert","ShipExpenseModal")});f();r()},r=function(){$("#ShipExpenseModal .modal-footer .btn-success").on("click",function(i){var f,e;i.preventDefault();var r={};r.DistinationID=$("select[id$=DistinationID] option:selected").val();r.CommissionCash=$("#CommissionCash").val();r.CommissionCredit=$("#CommissionCredit").val();r.CommissionID=$("#CommissionID").val();f={scParam:r};e=u();e&&commonManger.doWork("ShipExpenseModal","aspnetForm","Commissions.aspx/SaveCommission",f,t,n)})},t=function(n){n=n.d;$("#ShipExpenseModal").modal("hide");commonManger.showMessage("تمت عملية الإضافه بنجاح.",n.Message);n.Status&&$("#listItems").dataTable().fnDraw()},n=function(n,t,i){var r=t+": "+i,u=JSON.parse(n.responseText).Message;commonManger.showMessage(r,u)},u=function(){var n=!1;return $("#CommissionCash").val()!=""&&$("#CommissionCredit").val()!=""&&$("#DistinationID option:selected").val()!=""&&(n=!0),n},f=function(){var i=$("#listItems").dataTable({sDom:"<'row-fluid'<'span6'l><'span6 lft-pane'Tf>r>t<'row-fluid'<'span6'i><'span6'p>>",oTableTools:{aButtons:["copy","xls","print"]},bServerSide:!0,responsive:!0,responsive:!0,bRetrieve:!1,bDestroy:!0,sAjaxSource:"/api/general.aspx/LoadData?funName=CarSaleCommission_SelectList",fnServerData:function(t,i,r){dataService.callAjax("GET",i,t,function(n){r(n.d)},n)},iDisplayLength:50,aaSorting:[],aoColumns:[{mDataProp:"CommissionID",bSortable:!0},{mDataProp:"DistinationNameAr",bSortable:!0},{mDataProp:"CommissionCash",bSortable:!0},{mDataProp:"CommissionCredit",bSortable:!1},{bSortable:!1,sClass:"hidden-print",mData:function(){return'<button class="btn btn-mini btn-info edit" data-rel="tooltip" data-placement="top" data-original-title="تعديل"><i class="icon-edit"><\/i><\/button>                                    <button class="btn btn-mini btn-danger remove" data-rel="tooltip" data-placement="top" data-original-title="حــذف"><i class="icon-remove"><\/i><\/button>'}}]});commonManger.searchData(i);$("#listItems tbody").delegate("tr button","click",function(r){var f,e,u;if(r.preventDefault(),f=$(this),e=f.closest("tr").index(),e!=null)if(f.hasClass("edit"))u=i.fnGetData(e),$("#aspnetForm")[0].reset(),commonManger.enableAllFormElements("aspnetForm"),$("#CommissionCash").val(u.CommissionCash),$("#CommissionID").val(u.CommissionID),$("#CommissionCredit").val(u.CommissionCredit),$("select[id$=DistinationID]").val(u.DistinationID),commonManger.showPopUpDialog("تعديل عمولة الشركة","edit","ShipExpenseModal");else f.hasClass("remove")&&DeleteConfirmation(function(){u=i.fnGetData(e);var r=u.CommissionID;commonManger.deleteData("anyThing",t,n,"CarSaleCommission","CommissionID",r)})})};return{Init:i}}();CommissionsManager.Init();
//# sourceMappingURL=CommissionsManager.min.js.map
