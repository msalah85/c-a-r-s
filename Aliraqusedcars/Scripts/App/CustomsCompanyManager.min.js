var CustomsCompanyManager=function(){var i=function(){$("a.btn-add").on("click",function(){$("#CustomsCompanyID").val("0");$("#aspnetForm")[0].reset();commonManger.enableAllFormElements("aspnetForm");commonManger.showPopUpDialog("اضافة شركة شحن جديدة","insert","CustomsCompanyModal")});f();r()},r=function(){$("#CustomsCompanyModal .modal-footer .btn-success").on("click",function(i){var f,e;i.preventDefault();var r={};r.CustomsCompanyID=$("#CustomsCompanyID").val();r.CustomsCompanyNameEn=$("#CustomsCompanyNameEn").val();r.CustomsCompanyNameAr=$("#CustomsCompanyNameAr").val();r.DistinationID=$("select[id$=DistinationID] :selected").val();f={scParam:r};e=u();e&&commonManger.doWork("CustomsCompanyModal","aspnetForm","CustomsCompanies.aspx/SaveCustomsCompany",f,n,t)})},n=function(n){n=n.d;$("#CustomsCompanyModal").modal("hide");commonManger.showMessage("تمت عملية الإضافه بنجاح.",n.Message);n.Status&&$("#listItems").dataTable().fnDraw()},t=function(n,t,i){var r=t+": "+i,u=JSON.parse(n.responseText).Message;commonManger.showMessage(r,u)},u=function(){var n=!1;return $("#CustomsCompanyID").val()!=""&&$("#CustomsCompanyNameEn").val()!=""&&$("select[id$=DistinationID] :selected").val()!=""&&(n=!0),n},f=function(){var i=$("#listItems").dataTable({oTableTools:{aButtons:["copy","xls","print"]},bServerSide:!0,responsive:!0,responsive:!0,sAjaxSource:"CustomsCompanies.aspx/GetCustomsCompanies",fnServerData:function(n,t,i){$.ajax({type:"GET",dataType:"json",contentType:"application/json; charset=utf-8",url:n,data:t,success:function(n){i(n.d)},error:function(n){commonManger.showMessage("خطأ بالخادم!",n.Message)}})},iDisplayLength:50,aoColumns:[{mDataProp:"CustomsCompanyID",bSearchable:!1,bSortable:!0},{mDataProp:"CustomsCompanyNameEn",bSearchable:!0,bSortable:!0},{mDataProp:"CustomsCompanyNameAr",bSearchable:!0,bSortable:!0},{mDataProp:"DistinationNameAr",bSearchable:!0,bSortable:!1},{mDataProp:"DistinationID",bSortable:!1,mData:function(n){return'<input type="hidden" value="'+n.DistinationID+'" /><button class="btn btn-minier btn-info edit" data-rel="tooltip" data-placement="top" data-original-title="تعديل"><i class="icon-edit"><\/i><\/button><button class="btn btn-minier btn-danger remove" data-rel="tooltip" data-placement="top" data-original-title="حــذف"><i class="icon-remove"><\/i><\/button>'}}]});commonManger.searchData(i);$("#listItems tbody").delegate("tr button","click",function(r){var f,e,u,o;if(r.preventDefault(),f=$(this),e=f.closest("tr").index(),e!=null)if(f.hasClass("edit"))u=i.fnGetData(e),$("#aspnetForm")[0].reset(),commonManger.enableAllFormElements("aspnetForm"),$("#CustomsCompanyID").val(u.CustomsCompanyID),$("#CustomsCompanyNameEn").val(u.CustomsCompanyNameEn),$("#CustomsCompanyNameAr").val(u.CustomsCompanyNameAr),o=f.parent().find("input").val(),$("select[id$=DistinationID]").val(o),commonManger.showPopUpDialog("تعديل شركة الشحن","edit","CustomsCompanyModal");else f.hasClass("remove")&&DeleteConfirmation(function(){u=i.fnGetData(e);var r=u.CustomsCompanyID;commonManger.deleteData("anyThing",n,t,"CustomsCompanies","CustomsCompanyID",r)})})};return{Init:i}}();CustomsCompanyManager.Init();
//# sourceMappingURL=CustomsCompanyManager.min.js.map
