var id=commonManger.getQueryStrs().id,functionName="AuctionCommissions_SelectOne",applyEditableControl=function(){$("a.editable").editable({emptytext:"لا يوجــد",value:$(this).data("currentVal"),validate:function(n){if($.trim(n)==="")return"مطلوب."},url:function(n){return n.table=$(this).data("table"),n.id=$(this).data("id"),$.ajax({type:"POST",url:sUrl+"InlineEdit",data:JSON.stringify(n),contentType:"application/json; charset=utf-8",dataType:"json",async:!0,cache:!1,timeout:1e4,success:function(){commonManger.showMessage("تم الحفظ:","تم حفظ البيان بنجاح.")},error:function(){commonManger.showMessage("خطأ:","لقد حدث خطأ فى تنفيذ الإجراء.")}})}})},dto={actionName:functionName,value:id},successCall=function(n){var i=commonManger.comp2json(n.d),t=i.list,r=i.list1;t&&($("#auctionType").text(t.AuctionTypeName),$("#divInvoiceNo").text(id),$("#exchangeCo").text(t.ExchangeCompanyNameAr),$("#notes").text(t.Notes),$("#AuctionCommTotal,#amount").text(numeral(t.CommAmount).format("0,0.00")),$("#amountDhs").text(numeral(t.CommAmountDhs).format("0,0.00")),$("#ExtraAmount").text(numeral(t.ExtraAmount).format("0,0.00")),$("#DateFrom").text(moment(t.DateFrom).format("DD/MM/YYYY")),$("#DateTo").text(moment(t.DateTo).format("DD/MM/YYYY")),$("#ExtraNote").text(t.ExtraNote),$("#checkNo").html(function(){return t.CheckNo?'<a href="ReceiptPaymentsPrint.aspx?id='+t.CheckNo+'">'+t.CheckNo+"<\/a>":""}),$("#DeskInvoice").text(t.DeskInvoice),t.DeskInvoice?$("#DeskInvoice").removeClass("editable editable-click").removeAttr("href").closest("tr").removeClass("new hidden"):($("#DeskInvoice").attr("data-pk",t.AuctionCommID),applyEditableControl()));r&&$(r).each(function(n,t){$("#itemsList tbody").append("<tr><td>"+(n+1)+"<\/td><td>"+t.MakerNameEn+" - "+t.TypeNameEn+"<\/td><td>"+t.LotNo+"<\/td><td>"+t.ChassisNo+"<\/td><td>"+t.BuyerName+"<\/td><td>"+t.RegionEn+"<\/td><td>"+numeral(t.BuyerFee).format("0,0.00")+"<\/td><td>"+numeral(t.AuctionCommCost).format("0,0.00")+"<\/td><td>"+numeral(t.ACDetailsTotal).format("0,0.00")+"<\/td><\/tr>")})};dataService.callAjax("Post",JSON.stringify(dto),sUrl+"GetData",successCall,commonManger.errorException);