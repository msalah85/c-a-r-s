jQuery.fn.dataTable.Api.register("sum()",function(){return this.flatten().reduce(function(n,t){return typeof n=="string"&&(n=n.replace(/[^\d.-]/g,"")*1),typeof t=="string"&&(t=t.replace(/[^\d.-]/g,"")*1),n+t},0)});var ReceiptPayment=ReceiptPayment||{},ReceiptPayment=function(){var n="",t="",i="",r=function(){o();u()},u=function(){$("#SearchAll").on("click",function(r){r.preventDefault();n=$("#ExpenseTypeID").val()!=""?$("#ExpenseTypeID").val():"";t=$("#From").val()!=""?$("#From").val():"";i=$("#To").val()!=""?$("#To").val():"";e()});$("#cancelModal .modal-footer .btn-danger").on("click",function(n){var t,i;if(n.preventDefault(),t=$("#ReceiptID").val(),i=$("#DeleteReason").val(),t&&i!=""){var r=[t,i],u={actionName:"ReceiptPayments_Delete",names:["ReceiptID","DeleteReason"],values:r};dataService.callAjax("Post",JSON.stringify(u),sUrl+"saveData",f,commonManger.errorException)}else commonManger.showMessage("حقول مطلوبة","يرجي ادخال سبب الإلغاء أولاً."),$("#DeleteReason").focus()})},f=function(n){n=n.d;$(".modal").modal("hide");commonManger.showMessage("تم تنفيذ الإجراء بنجاح.",n.message);n.Status&&$("#listItems").DataTable().draw()},s=function(){var n=function(n){var r=commonManger.comp2json(n.d),t=r.list,i;t&&(i=$(t).map(function(n,t){return $("<option />").val(t.ExpenseTypeID).text(t.BankName)}).get(),$("#ExpenseTypeID").append(i),$(".chzn-select").trigger("chosen:updated").trigger("liszt:updated"))};dataService.callAjax("Post",JSON.stringify({actionName:"ReceiptPayments_Properties"}),sUrl+"GetDataDirect",n,commonManger.errorException)},h=function(){var n=commonManger.fullRoles();return n?'<button class="btn btn-mini btn-danger remove" data-rel="tooltip" data-placement="top" data-original-title="حــذف"><i class="icon-remove"><\/i><\/button>':""},e=function(){$("#listItems").DataTable().draw()},o=function(){var n=$("#listItems").DataTable({sDom:"<'row-fluid'<'span6'l><'span6 lft-pane'BT>r>t<'row-fluid'<'span6'i><'span6'p>>",buttons:[{extend:"csv",text:"تصدير إكسيل"},{text:"طباعة",action:function(){$(".dataTables_length,.form-horizontal").closest("div.row-fluid").addClass("hidden-print");window.print()}}],bDestroy:!0,bServerSide:!0,responsive:!0,sort:!1,ajax:function(n,t){dataService.callAjax("POST",JSON.stringify({actionName:"GeneralAdminExpenses_List2"}),sUrl+"GetDataDirect",function(n){var r=commonManger.comp2json(n.d),i=r.list1,f=r.list,u;i=$.isArray(i)?i:$.makeArray(i);u={draw:1,recordsTotal:i.length,recordsFiltered:i.length,data:i};t(u)},commonManger.errorException)},iDisplayLength:500,drawCallback:function(){var n=this.api(),t=n.column(1,{page:"current"}).data().sum(),i=n.column(2,{page:"current"}).data().sum(),r=n.column(3,{page:"current"}).data().sum(),u=n.column(4,{page:"current"}).data().sum(),f=n.column(5,{page:"current"}).data().sum(),e=n.column(6,{page:"current"}).data().sum(),o=n.column(7,{page:"current"}).data().sum(),s=n.column(8,{page:"current"}).data().sum(),h=n.column(9,{page:"current"}).data().sum(),c=n.column(10,{page:"current"}).data().sum();$(n.column(1).footer()).html(numeral(t).format("0,0"));$(n.column(2).footer()).html(numeral(i).format("0,0"));$(n.column(3).footer()).html(numeral(r).format("0,0"));$(n.column(4).footer()).html(numeral(u).format("0,0"));$(n.column(5).footer()).html(numeral(f).format("0,0"));$(n.column(6).footer()).html(numeral(e).format("0,0"));$(n.column(7).footer()).html(numeral(o).format("0,0"));$(n.column(8).footer()).html(numeral(s).format("0,0"));$(n.column(9).footer()).html(numeral(h).format("0,0"));$(n.column(10).footer()).html(numeral(c).format("0,0"))},columns:[{name:"Month",data:"Month",data:function(n){return n.Year+"-"+n.Month}},{name:"CompRent",data:function(n){return n.CompRent?numeral(n.CompRent).format("0,0"):"0"}},{name:"AnnualRenewal",data:function(n){return n.GovFees?numeral(n.GovFees).format("0,0"):"0"}},{name:"Housing",data:function(n){return n.Housing?numeral(n.Housing).format("0,0"):"0"}},{name:"Salaries",data:function(n){return n.Salaries?numeral(n.Salaries).format("0,0"):"0"}},{name:"Internet",data:function(n){return n.Internet?numeral(n.Internet).format("0,0"):"0"}},{name:"ElectricityWater",data:function(n){return n.ElectricityWater?numeral(n.ElectricityWater).format("0,0"):"0"}},{name:"PettyCash",data:function(n){return n.PettyCash?numeral(n.PettyCash).format("0,0"):"0"}},{name:"PettyCashJor",data:function(n){return n.PettyCashJor?numeral(n.PettyCashJor).format("0,0"):"0"}},{name:"Others",data:function(n){return n.Others?numeral(n.Others).format("0,0"):"0"}},{data:function(n){var t=(n.CompRent?n.CompRent*1:0)+(n.Housing?n.Housing*1:0)+(n.Salaries?n.Salaries*1:0)+(n.Internet?n.Internet*1:0)+(n.ElectricityWater?n.ElectricityWater*1:0)+(n.PettyCash?n.PettyCash*1:0)+(n.PettyCashJor?n.PettyCashJor*1:0)+(n.Others?n.Others*1:0)+(n.GovFees?n.GovFees*1:0);return numeral(t).format("0,0")}}]})};return{Init:r}}();
//# sourceMappingURL=GeneralAdministrativeExpenses.min.js.map
