/*!Developer: eng.msalah.abdullah@gmail.com, www.share-web-design.com*/
var pageIndex=1,pageCount=0,prm=[],vl=[],sort=0,dir="desc",$carsHome=$("#cars-search-result"),$loader=$(".loadmoree"),$maker=$("#carMakerFilter"),carBlock='<div class="item-car-box col-lg-4 col-md-6 col-xs-12 animated fadeInUp">                        <div class="carousel slide items-cars-slider" id="car-box">                            <ol class="carousel-indicators">                                <li data-target="#car-box" data-slide-to="0"><\/li>                            <\/ol>                            <div class="carousel-inner" role="listbox">                                <div class="item active">                                    <a href="javascript:void(0);" class="itemm-img-a">                                        <img src="/public/cars/noimage.gif" class="itemm-img" alt="car"><\/a>                                <\/div>                            <\/div>                            <a class="left carousel-control" href="#car-box" role="button" data-slide="prev"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"><\/span><span class="sr-only">السابق<\/span> <\/a><a class="right carousel-control" href="#car-box" role="button" data-slide="next"><span class="glyphicon glyphicon-chevron-right" aria-hidden="true"><\/span><span class="sr-only">التالي<\/span> <\/a>                        <\/div>                        <ul class="item-car-ul">                            <li>                                <h2 class="item-car-title"><span class="Year" title="سنة الصنع"><\/span> <a data-toggle="tooltip" href="#car-details" class="CarType"><\/a><\/h2>                            <\/li>                            <li class="pricetxt" title="سعر السيارة">$0<\/li>                            <li>                                <div class="car-desc-list">                                    <div class="label-titlee">رقـم السيـارة: <\/div>                                    <div class="label-desc CarID"><\/div>                                <\/div>                                <div class="car-desc-list">                                    <div class="label-titlee">رقـم اللـــــــوت: <\/div>                                    <div class="label-desc LotNo"><\/div>                                <\/div>                                <div class="car-desc-list">                                    <div class="label-titlee">رقـم الشاصي: <\/div>                                    <div class="label-desc ChassisNo" data-toggle="tooltip"><\/div>                                <\/div>                                <div class="car-desc-list">                                    <div class="label-titlee">لـون الســـيارة: <\/div>                                    <div class="label-desc Color"><\/div>                                <\/div>                                <div class="car-desc-list">                                    <div class="label-titlee">حـالة السيــارة: <\/div>                                    <div class="label-desc Status"><\/div>                                <\/div>                                <div class="car-desc-list">                                    <div class="label-titlee">وصول السيارة:<\/div>                                    <div class="label-desc ArrivalDate"><\/div>                                <\/div>                            <\/li>                            <li><a class="btn btn-default call-btn car-detls pull-left" data-toggle="tooltip" role="button"><span class="glyphicon glyphicon glyphicon-menu-left"><\/span> التفاصيل<\/a><\/li>                        <\/ul>                    <\/div>',scrollToCars=function(){$("html,body").animate({scrollTop:$("#cars-type-filter").offset().top-27},"slow")},OnSuccess=function(n){var t=$.parseXML(n.d),r=$.xml2json(t).list,u=$.xml2json(t).PageCount,i=$.xml2json(t).list1;pageCount=parseInt(u.PageCount);$(r).each(function(n,t){var r=$(carBlock).clone(!0),u=t.CarID,o="slides_car_"+u,f,e,s;$(".CarID",r).html(u);t.OwnerID===2&&($("ul.item-car-ul",r).addClass("car-client"),$(".CarID",r).append(' <i class="fa fa-info-circle fa-2x" data-toggle="tooltip" title="هذه السيارة معروضه لعميل شركة العراق"><\/i>'));$(".items-cars-slider",r).attr("id",o).children(".carousel-control").attr("href","#"+o);$(".ChassisNo",r).html(t.ChassisNo).attr("title",t.ChassisNo);$(".LotNo",r).html(t.LotNo);$(".Year",r).html(t.Year);$(".Status",r).html(t.WorkingStatusName);f="/car/"+u+"-"+t.MakerNameEn+"-"+t.TypeNameEn+"-"+t.Year;e=t.MakerNameEn+" - "+t.TypeNameEn;f=f.replace(/[_\W]+/g,"-");$(".CarType",r).html('<i class="fa fa-external-link fa-small"><\/i> '+e).attr("href",f).attr("title",e);$(".car-detls",r).attr("href",f);$(".Color",r).html(t.ColorNameAr);$(".pricetxt",r).html(numeral(t.WesitePrice).format("0,0")+" $");t.ArrivalDate&&(moment().diff(t.ArrivalDate,"days")>0?$(".ArrivalDate",r).html("واصــــــلة"):$(".ArrivalDate",r).html(t.ArrivalDate));$(".contact-phone",r).html(t.phone).attr("title",t.OwnerName);$(".car-detls",r).attr("title",e);$carsHome.animate({opacity:1}).append(r);i&&(s=$.grep(i,function(n){return n.CarID==u}),GetImages2(u,s,t.MainPicture))}).promise().done(function(){IRAQCARS.toolTip();pageCount>1?$("#back-to-top span").text(pageIndex-1+"/"+pageCount):$("#back-to-top span").text("");$carsHome.is(":empty")&&$carsHome.append('<li class="col-md-12 col-sm-12 scroll_effect animated fadeInUp"><div class="alert alert-warning fade in"><a class="close" data-dismiss="alert" href="#remove">×<\/a> <strong>عفواً!<\/strong> '+messagesAr.noDataFound+"<\/div><\/li>");$(".waiting").hide();$loader.hide();var n=$.cookie("homeview");n=n!==undefined&&n!==null?n:!1;gridListViewHome(n)});$loader.hide();$(".waiting").hide()},GetRecords=function(){if(pageIndex==1||pageIndex<=pageCount){var n=sURL+"GetCarsList",t={param:prm,values:vl};$loader.show();$(".waiting").fadeIn();dataService.callAjax("Post",JSON.stringify(t),n,OnSuccess,errorException)}pageIndex++},startGetResult=function(n,t){sort=n;dir=t;pageIndex=1;pageCount=0;$carsHome.empty();prm.indexOf("sort")==-1?(prm.push("sort","dir"),vl.push(sort,dir)):(vl[prm.indexOf("sort")]=sort,vl[prm.indexOf("dir")]=dir)};homeCarsFilter=function(n){var r,t,u,i;$carsHome.empty();pageIndex=1;prm=["PageIndex","PageSize","type"];vl=[pageIndex,6,"0"];n==1?(_type=$("#cars-type-filter a.filtericon-sole-active").attr("data-value"),vl[2]=_type):n==2?(prm.push("make"),r=getNumbersFromString($maker.val()),r=r==0?"":r,vl.push(r)):n==3?(t=getFieldsValues("search-fast"),prm.push.apply(prm,t[0]),vl.push.apply(vl,t[1])):n==4?(t=getFieldsValues("search-no"),prm.push.apply(prm,t[0]),vl.push.apply(vl,t[1])):n==6&&(prm.push("make","model"),u=$(".models :checkbox:checked").map(function(){return this.value}).get().join(","),i=$('.makes input[name="make"]:checked').val(),(i===undefined||i===""||i==="0")&&(i=null),vl.push(i,u));GetRecords()};OnImagesSuccess=function(n,t,i){var u="#slides_car_"+t,r=$(u);n.length>0&&r.children(".carousel-inner").html("");r.children(".carousel-indicators").html("");$(n).each(function(n,f){var e='<li data-target="'+u+'" data-slide-to="'+n+'" class="'+(i!==null&&i!==""&&f==i||i==null&&n==0?" active":"")+'"><\/li>',o='<div class="item'+(i!==null&&i!==""&&f==i||i==null&&n==0?" active":"")+'"><a href="/public/cars/'+t+"/"+f+'" data-rel="prettyPhoto[car_'+t+']" class="itemm-img-a"><img src="/public/cars/'+t+"/_thumb/"+f+'" class="itemm-img" alt=""><\/a><\/div>';r.children("div.carousel-inner").append(o);r.children("ol.carousel-indicators").append(e);r.find('a[href="#carousel-id"]').attr("href",u)}).promise().done(function(){IRAQCARS.PrettyPhoto();$(".waiting").hide();$loader.hide()})};GetImages2=function(n,t,i){var u="#slides_car_"+n,r=$(u);t.length>0&&(r.find(".carousel-inner").html(""),r.find(".carousel-indicators").html(""),$(t).each(function(t,f){var e=f.URL,o='<li data-target="'+u+'" data-slide-to="'+t+'" class="'+(i!==null&&i!==""&&e==i||i==null&&t==0?" active":"")+'"><\/li>',s='<div class="item'+(i!==null&&i!==""&&e==i||i==null&&t==0?" active":"")+'"><a href="/public/cars/'+n+"/"+e+'" data-rel="prettyPhoto[car_'+n+']" class="itemm-img-a"><img src="/public/cars/'+n+"/_thumb/"+e+'" class="itemm-img" alt=""><\/a><\/div>';r.children("div.carousel-inner").append(s);r.children("ol.carousel-indicators").append(o);r.find('a[href="#carousel-id"]').attr("href",u)}).promise().done(function(){IRAQCARS.PrettyPhoto();$(".waiting").hide();$loader.hide()}))};GetImages=function(n,t){var i=sURL+"ShowCarImages",r={id:n};dataService.callAjax("Post",JSON.stringify(r),i,success=function(i){OnImagesSuccess(i.d,n,t)},errorException)};$(function(){$("#cars-type-filter a.type").on("click",function(){$("#cars-type-filter a.type").removeClass("filtericon-sole-active");$(this).addClass("filtericon-sole-active")});$(".btnSearchFast").on("click",function(n){n.preventDefault();homeCarsFilter(3);scrollToCars()});$(".btnSearchNo").on("click",function(n){n.preventDefault();homeCarsFilter(4)});$(".makes").on("click",'input[name="make"]',function(){var n=$(this).val();$maker.val(n);homeCarsFilter(2)});$(".models").on("click",'input[name="model"]',function(){homeCarsFilter(6)});$(window).scroll(function(){$(".waiting").is(":visible")&&$(".waiting").hide();$(window).scrollTop()==$(document).height()-$(window).height()&&$(".item-car-box").length>0&&pageIndex<=pageCount&&(vl[0]=pageIndex,GetRecords())});$(".results-sorter ul li a").click(function(n){var i;n.preventDefault();var t=$(this),r=t.data("id"),u=t.data("sort");startGetResult(r,u);i=t.html();$(".listing-sort-btn").html(i);t.closest("ul").find("li").removeClass("active");t.closest("li").addClass("active")});$(window).hashchange(function(n){var t,i;return n.preventDefault(),t=location.hash,t=t.replace(/^#/,""),t.indexOf("ake=")>0?(i=getHashQueryStrs().make,i=getNumbersFromString(i),$maker.val(i),scrollToCars(),homeCarsFilter(2)):t.indexOf("ype=")>0&&($carsHome.empty(),scrollToCars(),homeCarsFilter(1)),!1})});homeCarsFilter(0);jQuery(document).ready(function(n){carousel=n("#carousel").carousel({width:100,height:350,itemWidth:190,horizontalRadius:430,verticalRadius:120,scaleRatio:.4,mouseScroll:!1,scrollOnClick:!0,mouseDrag:!0,autoScroll:!0,scaleRatio:.6,scrollbar:!1,tooltip:!0,linkTarget:"_self",resize:!0,mouseWheel:!0,mouseWheelReverse:!0});n("#carousel").removeClass("hide")});
//# sourceMappingURL=iraq-home.min.js.map
