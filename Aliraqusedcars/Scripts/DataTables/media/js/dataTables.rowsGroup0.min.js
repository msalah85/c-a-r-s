/*! RowsGroup for DataTables v1.0.0
 * 2015 Alexey Shildyakov ashl1future@gmail.com
 */
(function(n){ShowedDataSelectorModifier={order:"current",page:"current",search:"applied"};GroupedColumnsOrderDir="asc";var t=function(t,i){this.table=t.table();this.columnsForGrouping=i;this.orderOverrideNow=!1;this.order=[];self=this;n(document).on("order.dt",function(){self.orderOverrideNow||self._updateOrderAndDraw();self.orderOverrideNow=!1});n(document).on("draw.dt",function(){self._mergeCells()});this._updateOrderAndDraw()};t.prototype={_getOrderWithGroupColumns:function(n,t){t===undefined&&(t=GroupedColumnsOrderDir);var f=this,i=this.columnsForGrouping.map(function(n){return f.table.column(n).index()}),u=n.filter(function(n){return i.indexOf(n[0])>=0}),e=n.filter(function(n){return i.indexOf(n[0])<0}),o=u.map(function(n){return n[0]}),r=i.map(function(n){var i=o.indexOf(n);return i>=0?[n,u[i][1]]:[n,t]});return r.push.apply(r,e),r},_getInjectedMonoSelectWorkaround:function(n){if(n.length===1){var t=n[0][0],r=this.order.map(function(n){return n[0]}),i=r.indexOf(t);if(i>=0)return[[t,this._toogleDirection(this.order[i][1])]]}return n},_mergeCells:function(){var n=this.table.columns(this.columnsForGrouping,ShowedDataSelectorModifier).indexes().toArray(),t=this.table.rows(ShowedDataSelectorModifier)[0].length;this._mergeColumn(0,t-1,n)},_mergeColumn:function(t,i,r){var e=r.slice();currentColumn=e.shift();currentColumn=this.table.column(currentColumn,ShowedDataSelectorModifier);for(var o=currentColumn.nodes(),s=currentColumn.data(),u=t,f=t+1;f<=i;++f)s[f]===s[u]?n(o[f]).hide():(n(o[u]).show(),n(o[u]).attr("rowspan",f-1-u+1),e.length>0&&this._mergeColumn(u,f-1,e),u=f);n(o[u]).show();n(o[u]).attr("rowspan",f-1-u+1);e.length>0&&this._mergeColumn(u,f-1,e)},_toogleDirection:function(n){return n=="asc"?"desc":"asc"},_updateOrderAndDraw:function(){this.orderOverrideNow=!0;var t=this.table.order();t=this._getInjectedMonoSelectWorkaround(t);this.order=this._getOrderWithGroupColumns(t);this.table.order(n.extend(!0,Array(),this.order));this.table.draw()}};n.fn.dataTable.RowsGroup=t;n.fn.DataTable.RowsGroup=t;n(document).on("init.dt",function(i,r){if(i.namespace==="dt"){var u=new n.fn.dataTable.Api(r);(r.oInit.rowsGroup||n.fn.dataTable.defaults.rowsGroup)&&(options=r.oInit.rowsGroup?r.oInit.rowsGroup:n.fn.dataTable.defaults.rowsGroup,new t(u,options))}})})(jQuery);
//# sourceMappingURL=dataTables.rowsGroup.min.js.map
