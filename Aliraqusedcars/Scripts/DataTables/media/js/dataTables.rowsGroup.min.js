/*! RowsGroup for DataTables v2.0.0
 * 2015-2016 Alexey Shildyakov ashl1future@gmail.com
 * 2016 Tibor Wekerle
 */
(function(n){ShowedDataSelectorModifier={order:"current",page:"current",search:"applied"};GroupedColumnsOrderDir="asc";var t=function(n,t){this.table=n.table();this.columnsForGrouping=t;this.orderOverrideNow=!1;this.mergeCellsNeeded=!1;this.order=[];var i=this;n.on("order.dt",function(){i.orderOverrideNow?i.orderOverrideNow=!1:(i.orderOverrideNow=!0,i._updateOrderAndDraw())});n.on("preDraw.dt",function(){i.mergeCellsNeeded&&(i.mergeCellsNeeded=!1,i._mergeCells())});n.on("column-visibility.dt",function(){i.mergeCellsNeeded=!0});n.on("search.dt",function(){i.mergeCellsNeeded=!0});n.on("page.dt",function(){i.mergeCellsNeeded=!0});n.on("length.dt",function(){i.mergeCellsNeeded=!0});n.on("xhr.dt",function(){i.mergeCellsNeeded=!0});this._updateOrderAndDraw()};t.prototype={setMergeCells:function(){this.mergeCellsNeeded=!0},mergeCells:function(){this.setMergeCells();this.table.draw()},_getOrderWithGroupColumns:function(n,t){t===undefined&&(t=GroupedColumnsOrderDir);var f=this,i=this.columnsForGrouping.map(function(n){return f.table.column(n).index()}),u=n.filter(function(n){return i.indexOf(n[0])>=0}),e=n.filter(function(n){return i.indexOf(n[0])<0}),o=u.map(function(n){return n[0]}),r=i.map(function(n){var i=o.indexOf(n);return i>=0?[n,u[i][1]]:[n,t]});return r.push.apply(r,e),r},_getInjectedMonoSelectWorkaround:function(n){if(n.length===1){var t=n[0][0],r=this.order.map(function(n){return n[0]}),i=r.indexOf(t);if(i>=0)return[[t,this._toogleDirection(this.order[i][1])]]}return n},_mergeCells:function(){var n=this.table.columns(this.columnsForGrouping,ShowedDataSelectorModifier).indexes().toArray(),t=this.table.rows(ShowedDataSelectorModifier)[0].length;this._mergeColumn(0,t-1,n)},_mergeColumn:function(t,i,r){var e=r.slice();currentColumn=e.shift();currentColumn=this.table.column(currentColumn,ShowedDataSelectorModifier);for(var o=currentColumn.nodes(),s=currentColumn.data(),u=t,f=t+1;f<=i;++f)s[f]===s[u]?n(o[f]).hide():(n(o[u]).show(),n(o[u]).attr("rowspan",f-1-u+1),e.length>0&&this._mergeColumn(u,f-1,e),u=f);n(o[u]).show();n(o[u]).attr("rowspan",f-1-u+1);e.length>0&&this._mergeColumn(u,f-1,e)},_toogleDirection:function(n){return n=="asc"?"desc":"asc"},_updateOrderAndDraw:function(){this.mergeCellsNeeded=!0;var t=this.table.order();t=this._getInjectedMonoSelectWorkaround(t);this.order=this._getOrderWithGroupColumns(t);this.table.order(n.extend(!0,Array(),this.order));this.table.draw()}};n.fn.dataTable.RowsGroup=t;n.fn.DataTable.RowsGroup=t;n(document).on("init.dt",function(i,r){var f,u;i.namespace==="dt"&&(f=new n.fn.dataTable.Api(r),(r.oInit.rowsGroup||n.fn.dataTable.defaults.rowsGroup)&&(options=r.oInit.rowsGroup?r.oInit.rowsGroup:n.fn.dataTable.defaults.rowsGroup,u=new t(f,options),n.fn.dataTable.Api.register("rowsgroup.update()",function(){return u.mergeCells(),this}),n.fn.dataTable.Api.register("rowsgroup.updateNextDraw()",function(){return u.setMergeCells(),this})))})})(jQuery);
//# sourceMappingURL=dataTables.rowsGroup.min.js.map
