var CarsWaitedshipReportPrint=function(){var n="",t=function(){var n=$.cookie("ReportInfo").split(","),t;$("#shipperId").val(n[0]);t={ShipCompanyID:$("#shipperId").val()};dataService.callAjax("Post",JSON.stringify(t),"rpt/CarsWaitedshipReportPrint.aspx/GetData",function(t){t.d.FormulaValues[0]!=""&&($("#ShipCompanyIDIDtr").removeClass("hide"),$("#ShipCompanyID").text(n[1]));var r=JSON.parse(t.d.serializdata);i(r)},commonManger.errorException)},i=function(t){n=$("#listItems").DataTable({sDom:"<'row'>t<'row'>",bDestroy:!0,bLengthChange:!1,bFilter:!1,searching:!1,paging:!1});var i=[],r=[];i.push("CarID","LotNo","ChassisNo","InvoiceDate","DistinationNameEn","ShipCompanyNameEn","CarTitleAmrica");$.each(t,function(t,u){for(var f=0;f<i.length;f++)i[f]=="CarTitleAmrica"&&u[i[f]]?r.push('<td><input type="checkbox" class="title" style="opacity:1;" checked /><\/td>'):i[f]=="CarTitleAmrica"?r.push('<td><input type="checkbox" class="title" style="opacity:1;" /><\/td>'):r.push("<td>"+u[i[f]]+"<\/td>");r.push('<td><input type="checkbox" class="select" style="opacity:1;" /><\/td>');n.row.add(r).draw(!1);r=[]});$("#listItems tbody").delegate("tr :checkbox","change",function(n){var t,r,u,s,i;if(n.preventDefault(),t=$(this),r=t.closest("tr").index(),r!=null)if(t.hasClass("title")){i=t.closest("tr").find("td:eq(0)").text();u=t.is(":checked")?!0:!1;ParamValues=[i,u];ParamNames=["CarID","CarTitleAmrica"];var f="/api/general.aspx/saveDefaultData",e={values:ParamValues,actionName:"CarsData_SetTitle",Parm_names:ParamNames},o=JSON.stringify(e);dataService.callAjax("Post",o,f,function(n){n.d.Status&&commonManger.showMessage("تم الحفظ بنجاح","تم حفظ ورق (تايتل - Title) السيارة بنجاح.")},commonManger.errorException)}else if(t.hasClass("select")){s=t.is(":checked")?!0:!1;i=t.closest("tr").find("td:eq(0)").text();ParamValues=[i,$("#shipperId").val(),s];ParamNames=["CarID","ShipperID","add"];var f="/api/general.aspx/saveDefaultData",e={values:ParamValues,actionName:"ShippInvoicesDetails_AutoSave",Parm_names:ParamNames},o=JSON.stringify(e);dataService.callAjax("Post",o,f,function(n){n.d.Status&&commonManger.showMessage("تم اختيار السيارة","تم اختيار السيارة لحجزها فى الحاوية.")},commonManger.errorException);$(".select:checked").is(":checked")?$("a.btn").removeClass("hidden"):$("a.btn").addClass("hidden")}})};return{Init:t}}();CarsWaitedshipReportPrint.Init();
//# sourceMappingURL=CarsWaitedshipReportPrint.min.js.map
