var ShipInvoicePaymentsPrint=function(){var t="",u="",i=[],n=commonManger.getUrlVars(),f=function(){var t=decodeURIComponent(n.id);t!=""&&t!="undefined"&&t!=null?(u=t,r(t),$("#ShipInvoicePaymentsIDH").text(t),$("#ShipInvoicePaymentsID").text(t),$("a[data-pk]").attr("data-pk",t)):(r(""),$("#ShipInvoicePaymentsID").val(value="0"));n.review>0&&($(".review").removeClass("hidden"),$(".title").text("مراجعة حوالة فواتير الشحن"))},r=function(n){var t={actionName:"ShipInvoicePayments_PropertiesDetails",value:n},i=function(n){var t=JSON.parse(n.d),i=$.grep(t,function(n){return n.tbl_name=="150"}),r=$.grep(t,function(n){return n.tbl_name!="150"});$.each(i[0],function(n,t){$("#"+n).hasClass("money")&&t?$("#"+n).text(numeral(t||0).format("0,0.00")):$("#"+n).text(t);n=="PaymentsDates"&&t!=""&&$("#"+n).text(function(){return commonManger.dateFormat(t,"M/D/YYYY","DD/MM/YYYY")});($("#"+n).hasClass("editable")||$("#"+n).hasClass("editable-no"))&&t&&t!=null&&$("#"+n).removeClass("editable-no editable-click editable").removeAttr("href id data-table data-id data-name class data-pk data-type").closest("tr").removeClass("new hidden")});$("#CheckNo").html(function(){return'<a href="ReceiptPaymentsPrint.aspx?id='+$(this).text()+'">'+$(this).text()+"<\/a>"});o(r)};dataService.callAjax("Post",JSON.stringify(t),mainServiceUrl+"GetData",i,commonManger.errorException)},e=function(){$("a.editable").editable({emptytext:"لا يوجــد",source:i,value:$(this).data("currentVal"),validate:function(n){if($.trim(n)==="")return"مطلوب."},url:function(n){return n.table=$(this).data("table"),n.id=$(this).data("id"),$.ajax({type:"POST",url:sUrl+"InlineEdit",data:JSON.stringify(n),contentType:"application/json; charset=utf-8",dataType:"json",async:!0,cache:!1,timeout:1e4,success:function(){commonManger.showMessage("تم الحفظ:","تم حفظ البيان بنجاح.")},error:function(){commonManger.showMessage("خطأ:","لقد حدث خطأ فى تنفيذ الإجراء.")}})}})},o=function(r){var f,u,o;t=$("#listItems").DataTable({sDom:"<'row'>t<'row'>",bDestroy:!0,bLengthChange:!1,bFilter:!1,searching:!1,retrieve:!0,paging:!1});f=[];u=[];f.push("ContainerNo","InvoiceNo","ShippPrice");$.each(r,function(n,r){if(u.push("<td>"+(n+1)+"<\/td>"),r.tbl_name=="160"){for(var e=0;e<f.length;e++)u.push("<td>"+r[f[e]]+"<\/td>");t.row.add(u).draw(!1);u=[]}else r.tbl_name=="0"&&i.push({value:r.ID,text:r.Name})});n.cont&&($("#listItems").mark(n.cont),$("window").scrollTop(),o=$("*:contains('"+n.cont+"'):last").offset().top,$("html, body").animate({scrollTop:o},1500));e();applyEditableControlNo()};return{Init:f}}();ShipInvoicePaymentsPrint.Init();